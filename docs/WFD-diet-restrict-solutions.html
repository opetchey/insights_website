<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 9 Solutions: What are the effects of dietary restriction? | Companion Website — Insights from Data with R</title>
  <meta name="description" content="To be completed" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 9 Solutions: What are the effects of dietary restriction? | Companion Website — Insights from Data with R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="To be completed" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 9 Solutions: What are the effects of dietary restriction? | Companion Website — Insights from Data with R" />
  
  <meta name="twitter:description" content="To be completed" />
  

<meta name="author" content="Petchey, Beckerman, Cooper, Childs" />


<meta name="date" content="2021-02-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="WFD-diet-restrict.html"/>
<link rel="next" href="modelwf-scripts.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Insights from Data Website</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="insights-workflow.html"><a href="insights-workflow.html"><i class="fa fa-check"></i><b>2</b> Insights Workflow</a>
<ul>
<li class="chapter" data-level="2.1" data-path="insights-workflow.html"><a href="insights-workflow.html#preparing-the-data"><i class="fa fa-check"></i><b>2.1</b> Preparing the data</a></li>
<li class="chapter" data-level="2.2" data-path="insights-workflow.html"><a href="insights-workflow.html#prepare-your-computer-r-and-rstudio"><i class="fa fa-check"></i><b>2.2</b> Prepare your computer, R, and RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="insights-workflow.html"><a href="insights-workflow.html#read-the-data-into-r"><i class="fa fa-check"></i><b>2.3</b> Read the data into R</a></li>
<li class="chapter" data-level="2.4" data-path="insights-workflow.html"><a href="insights-workflow.html#tidy-the-data"><i class="fa fa-check"></i><b>2.4</b> Tidy the data</a></li>
<li class="chapter" data-level="2.5" data-path="insights-workflow.html"><a href="insights-workflow.html#clean-the-data."><i class="fa fa-check"></i><b>2.5</b> Clean the data.</a></li>
<li class="chapter" data-level="2.6" data-path="insights-workflow.html"><a href="insights-workflow.html#initial-insights"><i class="fa fa-check"></i><b>2.6</b> Initial insights</a></li>
<li class="chapter" data-level="2.7" data-path="insights-workflow.html"><a href="insights-workflow.html#insights-about-question-posed"><i class="fa fa-check"></i><b>2.7</b> Insights about question posed</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="questions-exercises.html"><a href="questions-exercises.html"><i class="fa fa-check"></i><b>3</b> Questions and exercises</a>
<ul>
<li class="chapter" data-level="3.1" data-path="questions-exercises.html"><a href="questions-exercises.html#preface"><i class="fa fa-check"></i><b>3.1</b> Preface</a></li>
<li class="chapter" data-level="3.2" data-path="questions-exercises.html"><a href="questions-exercises.html#chapter-1-introduction"><i class="fa fa-check"></i><b>3.2</b> Chapter 1 (Introduction)</a></li>
<li class="chapter" data-level="3.3" data-path="questions-exercises.html"><a href="questions-exercises.html#chapter-2-getting-acquainted"><i class="fa fa-check"></i><b>3.3</b> Chapter 2 (Getting Acquainted)</a></li>
<li class="chapter" data-level="3.4" data-path="questions-exercises.html"><a href="questions-exercises.html#chapter-3-workflow-demonstrationpart-1"><i class="fa fa-check"></i><b>3.4</b> Chapter 3 (Workflow Demonstration–Part 1)</a></li>
<li class="chapter" data-level="3.5" data-path="questions-exercises.html"><a href="questions-exercises.html#chapter-4-workflow-demonstrationpart-2"><i class="fa fa-check"></i><b>3.5</b> Chapter 4 (Workflow Demonstration–Part 2)</a></li>
<li class="chapter" data-level="3.6" data-path="questions-exercises.html"><a href="questions-exercises.html#chapter-5-dealing-with-data-1digging-into-dplyr"><i class="fa fa-check"></i><b>3.6</b> Chapter 5 (Dealing with data 1—Digging into dplyr)</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="questions-exercises.html"><a href="questions-exercises.html#general-questions-and-exercises"><i class="fa fa-check"></i><b>3.6.1</b> General questions and exercises</a></li>
<li class="chapter" data-level="3.6.2" data-path="questions-exercises.html"><a href="questions-exercises.html#bat-diet-workflow-questions-and-exercises"><i class="fa fa-check"></i><b>3.6.2</b> Bat diet workflow questions and exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="questions-exercises.html"><a href="questions-exercises.html#chapter-6-dealing-with-data-2expanding-your-toolkit"><i class="fa fa-check"></i><b>3.7</b> Chapter 6 (Dealing with data 2—Expanding your toolkit)</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="questions-exercises.html"><a href="questions-exercises.html#general-questions-and-exercises-1"><i class="fa fa-check"></i><b>3.7.1</b> General questions and exercises</a></li>
<li class="chapter" data-level="3.7.2" data-path="questions-exercises.html"><a href="questions-exercises.html#bat-diet-workflow-questions-and-exercises-1"><i class="fa fa-check"></i><b>3.7.2</b> Bat diet workflow questions and exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="questions-exercises.html"><a href="questions-exercises.html#chapter-7-getting-to-grips-with-ggplot2"><i class="fa fa-check"></i><b>3.8</b> Chapter 7 (Getting to grips with ggplot2)</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="questions-exercises.html"><a href="questions-exercises.html#general-questions-and-exercises-2"><i class="fa fa-check"></i><b>3.8.1</b> General questions and exercises</a></li>
<li class="chapter" data-level="3.8.2" data-path="questions-exercises.html"><a href="questions-exercises.html#bat-diet-workflow-questions-and-exercises-2"><i class="fa fa-check"></i><b>3.8.2</b> Bat diet workflow questions and exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="questions-exercises.html"><a href="questions-exercises.html#chapter-8-making-deeper-insights-part-1---working-with-single-variables"><i class="fa fa-check"></i><b>3.9</b> Chapter 8 (Making Deeper Insights: Part 1 - working with single variables)</a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="questions-exercises.html"><a href="questions-exercises.html#general-questions-and-exercises-3"><i class="fa fa-check"></i><b>3.9.1</b> General questions and exercises</a></li>
<li class="chapter" data-level="3.9.2" data-path="questions-exercises.html"><a href="questions-exercises.html#workflow-demonstration-questions-and-exercises"><i class="fa fa-check"></i><b>3.9.2</b> Workflow demonstration questions and exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="questions-exercises.html"><a href="questions-exercises.html#chapter-9-making-deeper-insights-part-2-relationships-among-many-variables"><i class="fa fa-check"></i><b>3.10</b> Chapter 9 (Making Deeper Insights Part 2: Relationships among (many) variables)</a>
<ul>
<li class="chapter" data-level="3.10.1" data-path="questions-exercises.html"><a href="questions-exercises.html#workflow-questions-and-exercises"><i class="fa fa-check"></i><b>3.10.1</b> Workflow questions and exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.11" data-path="questions-exercises.html"><a href="questions-exercises.html#chapter-10-looking-back-and-looking-forward"><i class="fa fa-check"></i><b>3.11</b> Chapter 10 (Looking back and looking forward)</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="more-R.html"><a href="more-R.html"><i class="fa fa-check"></i><b>4</b> More R</a>
<ul>
<li class="chapter" data-level="4.1" data-path="more-R.html"><a href="more-R.html#rstudio-project-setup"><i class="fa fa-check"></i><b>4.1</b> RStudio Project setup</a></li>
<li class="chapter" data-level="4.2" data-path="more-R.html"><a href="more-R.html#baseclassic-and-tidyverse-comparison"><i class="fa fa-check"></i><b>4.2</b> Base/classic and tidyverse comparison</a></li>
<li class="chapter" data-level="4.3" data-path="more-R.html"><a href="more-R.html#multiple-graphs-in-one-figure"><i class="fa fa-check"></i><b>4.3</b> Multiple graphs in one figure</a></li>
<li class="chapter" data-level="4.4" data-path="more-R.html"><a href="more-R.html#factors"><i class="fa fa-check"></i><b>4.4</b> Factors</a></li>
<li class="chapter" data-level="4.5" data-path="more-R.html"><a href="more-R.html#other-pipes"><i class="fa fa-check"></i><b>4.5</b> Other pipes</a></li>
<li class="chapter" data-level="4.6" data-path="more-R.html"><a href="more-R.html#simulating-data"><i class="fa fa-check"></i><b>4.6</b> Simulating data</a></li>
<li class="chapter" data-level="4.7" data-path="more-R.html"><a href="more-R.html#avoiding-loops"><i class="fa fa-check"></i><b>4.7</b> Avoiding “loops”</a></li>
<li class="chapter" data-level="4.8" data-path="more-R.html"><a href="more-R.html#syntax-highlighting"><i class="fa fa-check"></i><b>4.8</b> Syntax highlighting</a></li>
<li class="chapter" data-level="4.9" data-path="more-R.html"><a href="more-R.html#summarise-more-than-one-variable"><i class="fa fa-check"></i><b>4.9</b> Summarise more than one variable</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="additional-next-step-concepts.html"><a href="additional-next-step-concepts.html"><i class="fa fa-check"></i><b>5</b> Additional &amp; next step concepts</a>
<ul>
<li class="chapter" data-level="5.1" data-path="additional-next-step-concepts.html"><a href="additional-next-step-concepts.html#distributions"><i class="fa fa-check"></i><b>5.1</b> Distributions</a></li>
<li class="chapter" data-level="5.2" data-path="additional-next-step-concepts.html"><a href="additional-next-step-concepts.html#interactions-and-complexity"><i class="fa fa-check"></i><b>5.2</b> Interactions and complexity</a></li>
<li class="chapter" data-level="5.3" data-path="additional-next-step-concepts.html"><a href="additional-next-step-concepts.html#lurking-variables"><i class="fa fa-check"></i><b>5.3</b> Lurking variables</a></li>
<li class="chapter" data-level="5.4" data-path="additional-next-step-concepts.html"><a href="additional-next-step-concepts.html#power-of-data-to-give-insights"><i class="fa fa-check"></i><b>5.4</b> Power of data to give insights</a></li>
<li class="chapter" data-level="5.5" data-path="additional-next-step-concepts.html"><a href="additional-next-step-concepts.html#effect-sizes"><i class="fa fa-check"></i><b>5.5</b> Effect sizes</a></li>
<li class="chapter" data-level="5.6" data-path="additional-next-step-concepts.html"><a href="additional-next-step-concepts.html#ordination"><i class="fa fa-check"></i><b>5.6</b> Ordination</a></li>
<li class="chapter" data-level="5.7" data-path="additional-next-step-concepts.html"><a href="additional-next-step-concepts.html#influence-outliers"><i class="fa fa-check"></i><b>5.7</b> Influence and outliers</a></li>
<li class="chapter" data-level="5.8" data-path="additional-next-step-concepts.html"><a href="additional-next-step-concepts.html#transformations"><i class="fa fa-check"></i><b>5.8</b> Transformations</a></li>
<li class="chapter" data-level="5.9" data-path="additional-next-step-concepts.html"><a href="additional-next-step-concepts.html#non-independence"><i class="fa fa-check"></i><b>5.9</b> Non-independence</a></li>
<li class="chapter" data-level="5.10" data-path="additional-next-step-concepts.html"><a href="additional-next-step-concepts.html#missing-values-nas"><i class="fa fa-check"></i><b>5.10</b> Missing values (NAs)</a></li>
<li class="chapter" data-level="5.11" data-path="additional-next-step-concepts.html"><a href="additional-next-step-concepts.html#skewness"><i class="fa fa-check"></i><b>5.11</b> Skewness</a></li>
<li class="chapter" data-level="5.12" data-path="additional-next-step-concepts.html"><a href="additional-next-step-concepts.html#interoperability"><i class="fa fa-check"></i><b>5.12</b> Interoperability / standardising terms</a></li>
<li class="chapter" data-level="5.13" data-path="additional-next-step-concepts.html"><a href="additional-next-step-concepts.html#comparing-descriptive-statistics"><i class="fa fa-check"></i><b>5.13</b> Comparing descriptive statistics</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html"><i class="fa fa-check"></i><b>6</b> How does dietary diversity affect populations?</a>
<ul>
<li class="chapter" data-level="6.1" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#about-this-workflow-demonstration"><i class="fa fa-check"></i><b>6.1</b> About this Workflow Demonstration</a></li>
<li class="chapter" data-level="6.2" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#going-to-the-next-level"><i class="fa fa-check"></i><b>6.2</b> Going to the next level</a></li>
<li class="chapter" data-level="6.3" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#introduction-to-the-study-and-data"><i class="fa fa-check"></i><b>6.3</b> Introduction to the study and data</a></li>
<li class="chapter" data-level="6.4" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#what-type-of-response-variable"><i class="fa fa-check"></i><b>6.4</b> What type of response variable?</a></li>
<li class="chapter" data-level="6.5" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#a-little-preparation"><i class="fa fa-check"></i><b>6.5</b> A little preparation</a></li>
<li class="chapter" data-level="6.6" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#acquire-the-dataset"><i class="fa fa-check"></i><b>6.6</b> Acquire the dataset</a></li>
<li class="chapter" data-level="6.7" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#import-the-dataset"><i class="fa fa-check"></i><b>6.7</b> Import the dataset</a></li>
<li class="chapter" data-level="6.8" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#checking-the-import-worked-correctly"><i class="fa fa-check"></i><b>6.8</b> Checking the import worked correctly</a></li>
<li class="chapter" data-level="6.9" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#cleaning-and-tidying"><i class="fa fa-check"></i><b>6.9</b> Cleaning and tidying</a>
<ul>
<li class="chapter" data-level="6.9.1" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#recode-some-names"><i class="fa fa-check"></i><b>6.9.1</b> Recode some names</a></li>
<li class="chapter" data-level="6.9.2" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#factors-predstab"><i class="fa fa-check"></i><b>6.9.2</b> Make the <code>prey_composition</code> variable a factor with specific order</a></li>
<li class="chapter" data-level="6.9.3" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#fix-those-variable-names"><i class="fa fa-check"></i><b>6.9.3</b> Fix those variable names</a></li>
<li class="chapter" data-level="6.9.4" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#calculate-an-important-variable"><i class="fa fa-check"></i><b>6.9.4</b> Calculate an important variable</a></li>
<li class="chapter" data-level="6.9.5" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#remove-nas"><i class="fa fa-check"></i><b>6.9.5</b> Remove NAs</a></li>
<li class="chapter" data-level="6.9.6" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#checking-some-specifics"><i class="fa fa-check"></i><b>6.9.6</b> Checking some specifics</a></li>
<li class="chapter" data-level="6.9.7" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#a-closer-look-at-the-data"><i class="fa fa-check"></i><b>6.9.7</b> A closer look at the data</a></li>
<li class="chapter" data-level="6.9.8" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#calculate-the-three-response-variables"><i class="fa fa-check"></i><b>6.9.8</b> Calculate the three response variables</a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#shapes"><i class="fa fa-check"></i><b>6.10</b> Shapes</a></li>
<li class="chapter" data-level="6.11" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#relationships"><i class="fa fa-check"></i><b>6.11</b> Relationships</a>
<ul>
<li class="chapter" data-level="6.11.1" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#maximum-predator-density"><i class="fa fa-check"></i><b>6.11.1</b> Maximum predator density</a></li>
<li class="chapter" data-level="6.11.2" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#predator-population-variability-cv"><i class="fa fa-check"></i><b>6.11.2</b> Predator population variability (CV)</a></li>
<li class="chapter" data-level="6.11.3" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#predator-persistence-time"><i class="fa fa-check"></i><b>6.11.3</b> Predator persistence time</a></li>
<li class="chapter" data-level="6.11.4" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#all-three-at-once"><i class="fa fa-check"></i><b>6.11.4</b> All three at once</a></li>
</ul></li>
<li class="chapter" data-level="6.12" data-path="WFD-dietdiv-effect.html"><a href="WFD-dietdiv-effect.html#wrapping-up"><i class="fa fa-check"></i><b>6.12</b> Wrapping up</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html"><i class="fa fa-check"></i><b>7</b> Are diets more diverse in more democratic countries?</a>
<ul>
<li class="chapter" data-level="7.1" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#about-this-workflow-demonstration-1"><i class="fa fa-check"></i><b>7.1</b> About this Workflow Demonstration</a></li>
<li class="chapter" data-level="7.2" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#introduction-to-the-study-and-data-1"><i class="fa fa-check"></i><b>7.2</b> Introduction to the study and data</a></li>
<li class="chapter" data-level="7.3" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#understanding-the-data"><i class="fa fa-check"></i><b>7.3</b> Understanding the data</a></li>
<li class="chapter" data-level="7.4" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#a-little-preparation-1"><i class="fa fa-check"></i><b>7.4</b> A little preparation</a></li>
<li class="chapter" data-level="7.5" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#polity-data-origins-acquire-import-clean-tidy-nas-duplicates"><i class="fa fa-check"></i><b>7.5</b> Polity data: origins, acquire, import, clean, tidy, NAs, duplicates</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#data-origins-and-acquisition"><i class="fa fa-check"></i><b>7.5.1</b> Data origins and acquisition</a></li>
<li class="chapter" data-level="7.5.2" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#data-import"><i class="fa fa-check"></i><b>7.5.2</b> Data import</a></li>
<li class="chapter" data-level="7.5.3" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#tidy-and-clean"><i class="fa fa-check"></i><b>7.5.3</b> Tidy and clean</a></li>
<li class="chapter" data-level="7.5.4" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#deal-with-nas"><i class="fa fa-check"></i><b>7.5.4</b> Deal with NAs</a></li>
<li class="chapter" data-level="7.5.5" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#check-for-innapropriate-duplicate-observations"><i class="fa fa-check"></i><b>7.5.5</b> Check for innapropriate duplicate observations</a></li>
<li class="chapter" data-level="7.5.6" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#check-ranges-of-numeric-variables"><i class="fa fa-check"></i><b>7.5.6</b> Check ranges of numeric variables</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#first-insights-from-the-polity-data"><i class="fa fa-check"></i><b>7.6</b> First insights from the polity data</a></li>
<li class="chapter" data-level="7.7" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#acquire-import-check-the-fao-food-balance-sheet-data"><i class="fa fa-check"></i><b>7.7</b> Acquire, import, check the FAO Food balance sheet data</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#tidying-FAO"><i class="fa fa-check"></i><b>7.7.1</b> Tidy the FAO data</a></li>
<li class="chapter" data-level="7.7.2" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#clean-the-fao-data"><i class="fa fa-check"></i><b>7.7.2</b> Clean the FAO data</a></li>
<li class="chapter" data-level="7.7.3" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#check-for-innapropriate-duplicate-observations-1"><i class="fa fa-check"></i><b>7.7.3</b> Check for innapropriate duplicate observations</a></li>
<li class="chapter" data-level="7.7.4" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#checking-something-else"><i class="fa fa-check"></i><b>7.7.4</b> Checking something else…</a></li>
<li class="chapter" data-level="7.7.5" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#missing-values"><i class="fa fa-check"></i><b>7.7.5</b> Missing values</a></li>
<li class="chapter" data-level="7.7.6" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#more-cleaning"><i class="fa fa-check"></i><b>7.7.6</b> More cleaning</a></li>
<li class="chapter" data-level="7.7.7" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#calculating-our-response-variables"><i class="fa fa-check"></i><b>7.7.7</b> Calculating our response variables</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#merge-the-two-datasets-aaaaaargh"><i class="fa fa-check"></i><b>7.8</b> Merge the two datasets (aaaaaargh!!)</a>
<ul>
<li class="chapter" data-level="7.8.1" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#polity-standardisation"><i class="fa fa-check"></i><b>7.8.1</b> Polity standardisation</a></li>
<li class="chapter" data-level="7.8.2" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#the-final-merge"><i class="fa fa-check"></i><b>7.8.2</b> The final merge</a></li>
</ul></li>
<li class="chapter" data-level="7.9" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#tidying-up"><i class="fa fa-check"></i><b>7.9</b> Tidying up</a></li>
<li class="chapter" data-level="7.10" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#shapes-1"><i class="fa fa-check"></i><b>7.10</b> Shapes</a></li>
<li class="chapter" data-level="7.11" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#relationships-1"><i class="fa fa-check"></i><b>7.11</b> Relationships</a></li>
<li class="chapter" data-level="7.12" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#wrapping-up-1"><i class="fa fa-check"></i><b>7.12</b> Wrapping up</a></li>
<li class="chapter" data-level="7.13" data-path="WFD-food-pol.html"><a href="WFD-food-pol.html#and-a-challenge-for-you"><i class="fa fa-check"></i><b>7.13</b> And a challenge for you…</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html"><i class="fa fa-check"></i><b>8</b> What are the effects of dietary restriction?</a>
<ul>
<li class="chapter" data-level="8.1" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#about-this-workflow-demonstration-2"><i class="fa fa-check"></i><b>8.1</b> About this Workflow Demonstration</a></li>
<li class="chapter" data-level="8.2" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#introduction-1"><i class="fa fa-check"></i><b>8.2</b> Introduction</a></li>
<li class="chapter" data-level="8.3" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#the-question"><i class="fa fa-check"></i><b>8.3</b> The question</a></li>
<li class="chapter" data-level="8.4" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#before-working-in-r"><i class="fa fa-check"></i><b>8.4</b> Before working in R</a></li>
<li class="chapter" data-level="8.5" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#what-was-the-experimental-design"><i class="fa fa-check"></i><b>8.5</b> What was the experimental design?</a></li>
<li class="chapter" data-level="8.6" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#what-are-the-features-of-the-data"><i class="fa fa-check"></i><b>8.6</b> What are the features of the data?</a></li>
<li class="chapter" data-level="8.7" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#acquire-and-import-the-necessary-datafiles."><i class="fa fa-check"></i><b>8.7</b> Acquire and import the necessary datafiles.</a></li>
<li class="chapter" data-level="8.8" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#explore-and-understand-the-datafiles"><i class="fa fa-check"></i><b>8.8</b> Explore and understand the datafiles</a></li>
<li class="chapter" data-level="8.9" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#check-the-data-import"><i class="fa fa-check"></i><b>8.9</b> Check the data import</a></li>
<li class="chapter" data-level="8.10" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#make-more-informative-variable-names-and-discard-variables-not-obviously-of-use"><i class="fa fa-check"></i><b>8.10</b> Make more informative variable names (and discard variables not obviously of use):</a></li>
<li class="chapter" data-level="8.11" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#replace-codes-with-informative-words"><i class="fa fa-check"></i><b>8.11</b> Replace codes with informative words</a></li>
<li class="chapter" data-level="8.12" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#checking-for-duplicates"><i class="fa fa-check"></i><b>8.12</b> Checking for duplicates</a></li>
<li class="chapter" data-level="8.13" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#nas-variable-entries-e.g.-levels-of-characters-ranges-of-numerics-numbers-of-things"><i class="fa fa-check"></i><b>8.13</b> NAs, variable entries, e.g. levels of characters, ranges of numerics, numbers of “things”</a></li>
<li class="chapter" data-level="8.14" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#independence"><i class="fa fa-check"></i><b>8.14</b> Independence</a></li>
<li class="chapter" data-level="8.15" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#balance-in-experimental-design"><i class="fa fa-check"></i><b>8.15</b> Balance in experimental design</a></li>
<li class="chapter" data-level="8.16" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#calculate-response-variables-if-required"><i class="fa fa-check"></i><b>8.16</b> Calculate response variable(s) (if required)</a></li>
<li class="chapter" data-level="8.17" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#merge-all-datasets-together-and-check-for-correct-number-of-rows"><i class="fa fa-check"></i><b>8.17</b> Merge all datasets together and check for correct number of rows</a></li>
<li class="chapter" data-level="8.18" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#something-a-bit-weird"><i class="fa fa-check"></i><b>8.18</b> Something a bit weird…</a></li>
<li class="chapter" data-level="8.19" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#import-the-updated-versions-of-the-datasets."><i class="fa fa-check"></i><b>8.19</b> Import the updated versions of the datasets.</a></li>
<li class="chapter" data-level="8.20" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#inspect-shapes-distributions"><i class="fa fa-check"></i><b>8.20</b> Inspect shapes (distributions)</a></li>
<li class="chapter" data-level="8.21" data-path="WFD-diet-restrict.html"><a href="WFD-diet-restrict.html#inspect-relationships"><i class="fa fa-check"></i><b>8.21</b> Inspect relationships</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="WFD-diet-restrict-solutions.html"><a href="WFD-diet-restrict-solutions.html"><i class="fa fa-check"></i><b>9</b> Solutions: What are the effects of dietary restriction?</a>
<ul>
<li class="chapter" data-level="9.1" data-path="WFD-diet-restrict-solutions.html"><a href="WFD-diet-restrict-solutions.html#about-these-solutions"><i class="fa fa-check"></i><b>9.1</b> About these solutions</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="WFD-diet-restrict-solutions.html"><a href="WFD-diet-restrict-solutions.html#nas-variable-entries-e.g.-levels-of-characters-ranges-of-numerics-numbers-of-things-1"><i class="fa fa-check"></i><b>9.1.1</b> NAs, variable entries, e.g. levels of characters, ranges of numerics, numbers of “things”*</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="WFD-diet-restrict-solutions.html"><a href="WFD-diet-restrict-solutions.html#independence-1"><i class="fa fa-check"></i><b>9.2</b> Independence</a></li>
<li class="chapter" data-level="9.3" data-path="WFD-diet-restrict-solutions.html"><a href="WFD-diet-restrict-solutions.html#balance-in-experimental-design-1"><i class="fa fa-check"></i><b>9.3</b> Balance in experimental design</a></li>
<li class="chapter" data-level="9.4" data-path="WFD-diet-restrict-solutions.html"><a href="WFD-diet-restrict-solutions.html#do-regression"><i class="fa fa-check"></i><b>9.4</b> Calculate response variable(s) (if required)</a></li>
<li class="chapter" data-level="9.5" data-path="WFD-diet-restrict-solutions.html"><a href="WFD-diet-restrict-solutions.html#inspect-relationships-1"><i class="fa fa-check"></i><b>9.5</b> Inspect relationships</a></li>
<li class="chapter" data-level="9.6" data-path="WFD-diet-restrict-solutions.html"><a href="WFD-diet-restrict-solutions.html#below-are-lists-of-variables-in-each-of-the-four-used-datasets."><i class="fa fa-check"></i><b>9.6</b> Below are lists of variables in each of the four used datasets.</a></li>
<li class="chapter" data-level="9.7" data-path="WFD-diet-restrict-solutions.html"><a href="WFD-diet-restrict-solutions.html#moatt-et-al-data-s1-mortality-data"><i class="fa fa-check"></i><b>9.7</b> Moatt et al Data S1 – Mortality Data</a></li>
<li class="chapter" data-level="9.8" data-path="WFD-diet-restrict-solutions.html"><a href="WFD-diet-restrict-solutions.html#moatt-et-al-data-s5-courtship-data"><i class="fa fa-check"></i><b>9.8</b> Moatt et al Data S5 – Courtship Data</a></li>
<li class="chapter" data-level="9.9" data-path="WFD-diet-restrict-solutions.html"><a href="WFD-diet-restrict-solutions.html#moatt-et-al-data-s6-eggs-data"><i class="fa fa-check"></i><b>9.9</b> Moatt et al Data S6 – Eggs Data</a></li>
<li class="chapter" data-level="9.10" data-path="WFD-diet-restrict-solutions.html"><a href="WFD-diet-restrict-solutions.html#moatt-et-al-data-s15-length-weight-and-condition-index-data"><i class="fa fa-check"></i><b>9.10</b> Moatt et al Data S15 – Length, Weight and Condition Index Data</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="modelwf-scripts.html"><a href="modelwf-scripts.html"><i class="fa fa-check"></i><b>10</b> Workflow demonstration R scripts</a></li>
<li class="chapter" data-level="11" data-path="live-data-demo.html"><a href="live-data-demo.html"><i class="fa fa-check"></i><b>11</b> Live data analysis demonstration</a>
<ul>
<li class="chapter" data-level="11.1" data-path="live-data-demo.html"><a href="live-data-demo.html#introduction-for-intructors"><i class="fa fa-check"></i><b>11.1</b> Introduction for intructors</a></li>
<li class="chapter" data-level="" data-path="live-data-demo.html"><a href="live-data-demo.html#introduction-2"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="live-data-demo.html"><a href="live-data-demo.html#meta-task"><i class="fa fa-check"></i><b>11.2</b> Meta-task</a></li>
<li class="chapter" data-level="11.3" data-path="live-data-demo.html"><a href="live-data-demo.html#the-question-1"><i class="fa fa-check"></i><b>11.3</b> The question</a></li>
<li class="chapter" data-level="11.4" data-path="live-data-demo.html"><a href="live-data-demo.html#expectation"><i class="fa fa-check"></i><b>11.4</b> Expectation</a></li>
<li class="chapter" data-level="11.5" data-path="live-data-demo.html"><a href="live-data-demo.html#how-are-we-going-to-present-the-results"><i class="fa fa-check"></i><b>11.5</b> How are we going to present the results?</a></li>
<li class="chapter" data-level="11.6" data-path="live-data-demo.html"><a href="live-data-demo.html#what-statistical-test-will-we-use"><i class="fa fa-check"></i><b>11.6</b> What statistical test will we use?</a></li>
<li class="chapter" data-level="11.7" data-path="live-data-demo.html"><a href="live-data-demo.html#selection-of-subjects"><i class="fa fa-check"></i><b>11.7</b> Selection of subjects</a></li>
<li class="chapter" data-level="11.8" data-path="live-data-demo.html"><a href="live-data-demo.html#ethical-clearance-and-considerations"><i class="fa fa-check"></i><b>11.8</b> Ethical clearance and considerations</a></li>
<li class="chapter" data-level="11.9" data-path="live-data-demo.html"><a href="live-data-demo.html#data-collection"><i class="fa fa-check"></i><b>11.9</b> Data collection</a></li>
<li class="chapter" data-level="11.10" data-path="live-data-demo.html"><a href="live-data-demo.html#look-at-the-data"><i class="fa fa-check"></i><b>11.10</b> Look at the data!</a></li>
<li class="chapter" data-level="11.11" data-path="live-data-demo.html"><a href="live-data-demo.html#lets-get-the-data-into-our-data-analysis-software-of-choice-r-via-rstudio"><i class="fa fa-check"></i><b>11.11</b> Lets get the data into our data analysis software of choice (R, via RStudio)</a></li>
<li class="chapter" data-level="11.12" data-path="live-data-demo.html"><a href="live-data-demo.html#now-we-need-to-do-some-data-wrangling-cleaning-and-tidying"><i class="fa fa-check"></i><b>11.12</b> Now we need to do some data wrangling (cleaning and tidying)</a>
<ul>
<li class="chapter" data-level="11.12.1" data-path="live-data-demo.html"><a href="live-data-demo.html#clean-up-the-column-variable-names"><i class="fa fa-check"></i><b>11.12.1</b> Clean up the column / variable names:</a></li>
<li class="chapter" data-level="11.12.2" data-path="live-data-demo.html"><a href="live-data-demo.html#check-the-variable-types-are-correct."><i class="fa fa-check"></i><b>11.12.2</b> Check the variable types are correct.</a></li>
<li class="chapter" data-level="11.12.3" data-path="live-data-demo.html"><a href="live-data-demo.html#correct-or-exclude-problematic-data"><i class="fa fa-check"></i><b>11.12.3</b> Correct or exclude problematic data</a></li>
<li class="chapter" data-level="11.12.4" data-path="live-data-demo.html"><a href="live-data-demo.html#check-numbers-of-data-points-in-each-sex"><i class="fa fa-check"></i><b>11.12.4</b> Check numbers of data points in each sex</a></li>
<li class="chapter" data-level="11.12.5" data-path="live-data-demo.html"><a href="live-data-demo.html#check-the-number-of-observations"><i class="fa fa-check"></i><b>11.12.5</b> Check the number of observations</a></li>
</ul></li>
<li class="chapter" data-level="11.13" data-path="live-data-demo.html"><a href="live-data-demo.html#visualise-the-data"><i class="fa fa-check"></i><b>11.13</b> Visualise the data</a></li>
<li class="chapter" data-level="11.14" data-path="live-data-demo.html"><a href="live-data-demo.html#get-the-means"><i class="fa fa-check"></i><b>11.14</b> Get the means</a></li>
<li class="chapter" data-level="11.15" data-path="live-data-demo.html"><a href="live-data-demo.html#effect-size-and-practical-importance"><i class="fa fa-check"></i><b>11.15</b> Effect size and practical importance?</a></li>
<li class="chapter" data-level="11.16" data-path="live-data-demo.html"><a href="live-data-demo.html#assess-assumptions"><i class="fa fa-check"></i><b>11.16</b> Assess assumptions</a>
<ul>
<li class="chapter" data-level="11.16.1" data-path="live-data-demo.html"><a href="live-data-demo.html#independence-2"><i class="fa fa-check"></i><b>11.16.1</b> Independence</a></li>
<li class="chapter" data-level="11.16.2" data-path="live-data-demo.html"><a href="live-data-demo.html#normally-distributed-residuals"><i class="fa fa-check"></i><b>11.16.2</b> Normally distributed residuals</a></li>
<li class="chapter" data-level="11.16.3" data-path="live-data-demo.html"><a href="live-data-demo.html#equal-variance"><i class="fa fa-check"></i><b>11.16.3</b> Equal variance</a></li>
</ul></li>
<li class="chapter" data-level="11.17" data-path="live-data-demo.html"><a href="live-data-demo.html#do-the-statistical-test"><i class="fa fa-check"></i><b>11.17</b> Do the statistical test</a></li>
<li class="chapter" data-level="11.18" data-path="live-data-demo.html"><a href="live-data-demo.html#critical-thinking"><i class="fa fa-check"></i><b>11.18</b> Critical thinking</a></li>
<li class="chapter" data-level="11.19" data-path="live-data-demo.html"><a href="live-data-demo.html#report-and-communicate-the-results"><i class="fa fa-check"></i><b>11.19</b> Report and communicate the results</a>
<ul>
<li class="chapter" data-level="11.19.1" data-path="live-data-demo.html"><a href="live-data-demo.html#the-results-as-a-sentence"><i class="fa fa-check"></i><b>11.19.1</b> The results as a sentence</a></li>
<li class="chapter" data-level="11.19.2" data-path="live-data-demo.html"><a href="live-data-demo.html#the-results-graphically"><i class="fa fa-check"></i><b>11.19.2</b> The results graphically</a></li>
<li class="chapter" data-level="11.19.3" data-path="live-data-demo.html"><a href="live-data-demo.html#do-not-use-a-table"><i class="fa fa-check"></i><b>11.19.3</b> Do not use a table</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="more-questions-data.html"><a href="more-questions-data.html"><i class="fa fa-check"></i><b>12</b> More datasets</a>
<ul>
<li class="chapter" data-level="12.1" data-path="more-questions-data.html"><a href="more-questions-data.html#hungry-ladybirds"><i class="fa fa-check"></i><b>12.1</b> Hungry ladybirds</a></li>
<li class="chapter" data-level="12.2" data-path="more-questions-data.html"><a href="more-questions-data.html#seal-suppers"><i class="fa fa-check"></i><b>12.2</b> Seal suppers</a></li>
<li class="chapter" data-level="12.3" data-path="more-questions-data.html"><a href="more-questions-data.html#more-bat-poop"><i class="fa fa-check"></i><b>12.3</b> More bat poop</a></li>
<li class="chapter" data-level="12.4" data-path="more-questions-data.html"><a href="more-questions-data.html#marten-isotopes"><i class="fa fa-check"></i><b>12.4</b> Marten isotopes</a></li>
<li class="chapter" data-level="12.5" data-path="more-questions-data.html"><a href="more-questions-data.html#snake-diets"><i class="fa fa-check"></i><b>12.5</b> Snake diets</a></li>
<li class="chapter" data-level="12.6" data-path="more-questions-data.html"><a href="more-questions-data.html#desert-bat-diets"><i class="fa fa-check"></i><b>12.6</b> Desert bat diets</a></li>
<li class="chapter" data-level="12.7" data-path="more-questions-data.html"><a href="more-questions-data.html#birds-eating-insects"><i class="fa fa-check"></i><b>12.7</b> Birds eating insects</a></li>
<li class="chapter" data-level="12.8" data-path="more-questions-data.html"><a href="more-questions-data.html#diets-of-predatory-fish"><i class="fa fa-check"></i><b>12.8</b> Diets of predatory fish</a></li>
<li class="chapter" data-level="12.9" data-path="more-questions-data.html"><a href="more-questions-data.html#cervical-spine-compression-and-mri-not-food-related"><i class="fa fa-check"></i><b>12.9</b> Cervical spine compression and MRI (not food related)</a></li>
<li class="chapter" data-level="12.10" data-path="more-questions-data.html"><a href="more-questions-data.html#lots-of-other-datasets-here"><i class="fa fa-check"></i><b>12.10</b> Lots of other datasets here:</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="related-reading.html"><a href="related-reading.html"><i class="fa fa-check"></i><b>13</b> Related reading</a>
<ul>
<li class="chapter" data-level="13.1" data-path="related-reading.html"><a href="related-reading.html#data-science-related-reading"><i class="fa fa-check"></i><b>13.1</b> Data science related reading</a></li>
<li class="chapter" data-level="13.2" data-path="related-reading.html"><a href="related-reading.html#study-design-related-reading"><i class="fa fa-check"></i><b>13.2</b> Study design related reading</a></li>
<li class="chapter" data-level="13.3" data-path="related-reading.html"><a href="related-reading.html#web-sites-pages"><i class="fa fa-check"></i><b>13.3</b> Web sites / pages</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="answers.html"><a href="answers.html"><i class="fa fa-check"></i><b>14</b> Answers and solutions</a>
<ul>
<li class="chapter" data-level="14.1" data-path="answers.html"><a href="answers.html#preface-1"><i class="fa fa-check"></i><b>14.1</b> Preface</a></li>
<li class="chapter" data-level="14.2" data-path="answers.html"><a href="answers.html#chapter-1-introduction-1"><i class="fa fa-check"></i><b>14.2</b> Chapter 1 (Introduction)</a></li>
<li class="chapter" data-level="14.3" data-path="answers.html"><a href="answers.html#chapter-2-getting-acquainted-1"><i class="fa fa-check"></i><b>14.3</b> Chapter 2 (Getting Acquainted)</a></li>
<li class="chapter" data-level="14.4" data-path="answers.html"><a href="answers.html#chapter-3-workflow-demonstrationpart-1-1"><i class="fa fa-check"></i><b>14.4</b> Chapter 3 (Workflow Demonstration–Part 1)</a></li>
<li class="chapter" data-level="14.5" data-path="answers.html"><a href="answers.html#chapter-4-workflow-demonstrationpart-2-1"><i class="fa fa-check"></i><b>14.5</b> Chapter 4 (Workflow Demonstration–Part 2)</a></li>
<li class="chapter" data-level="14.6" data-path="answers.html"><a href="answers.html#chapter-5-dealing-with-data-1digging-into-dplyr-1"><i class="fa fa-check"></i><b>14.6</b> Chapter 5 (Dealing with data 1—Digging into dplyr)</a>
<ul>
<li class="chapter" data-level="14.6.1" data-path="answers.html"><a href="answers.html#general-questions-and-exercises-4"><i class="fa fa-check"></i><b>14.6.1</b> General questions and exercises</a></li>
<li class="chapter" data-level="14.6.2" data-path="answers.html"><a href="answers.html#bat-diet-workflow-questions-and-exercises-3"><i class="fa fa-check"></i><b>14.6.2</b> Bat diet workflow questions and exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.7" data-path="answers.html"><a href="answers.html#chapter-6-dealing-with-data-2expanding-your-toolkit-1"><i class="fa fa-check"></i><b>14.7</b> Chapter 6 (Dealing with data 2—Expanding your toolkit)</a>
<ul>
<li class="chapter" data-level="14.7.1" data-path="answers.html"><a href="answers.html#general-questions-and-exercises-5"><i class="fa fa-check"></i><b>14.7.1</b> General questions and exercises</a></li>
<li class="chapter" data-level="14.7.2" data-path="answers.html"><a href="answers.html#bat-diet-workflow-questions-and-exercises-4"><i class="fa fa-check"></i><b>14.7.2</b> Bat diet workflow questions and exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.8" data-path="answers.html"><a href="answers.html#chapter-7-getting-to-grips-with-ggplot2-1"><i class="fa fa-check"></i><b>14.8</b> Chapter 7 (Getting to grips with ggplot2)</a>
<ul>
<li class="chapter" data-level="14.8.1" data-path="answers.html"><a href="answers.html#general-questions-and-exercises-6"><i class="fa fa-check"></i><b>14.8.1</b> General questions and exercises</a></li>
<li class="chapter" data-level="14.8.2" data-path="answers.html"><a href="answers.html#bat-diet-workflow-questions-and-exercises-5"><i class="fa fa-check"></i><b>14.8.2</b> Bat diet workflow questions and exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.9" data-path="answers.html"><a href="answers.html#chapter-8-making-deeper-insights-part-1---working-with-single-variables-1"><i class="fa fa-check"></i><b>14.9</b> Chapter 8 (Making Deeper Insights: Part 1 - working with single variables)</a>
<ul>
<li class="chapter" data-level="14.9.1" data-path="answers.html"><a href="answers.html#general-questions-and-exercises-7"><i class="fa fa-check"></i><b>14.9.1</b> General questions and exercises</a></li>
<li class="chapter" data-level="14.9.2" data-path="answers.html"><a href="answers.html#workflow-demonstration-questions-and-exercises-1"><i class="fa fa-check"></i><b>14.9.2</b> Workflow demonstration questions and exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.10" data-path="answers.html"><a href="answers.html#chapter-9-making-deeper-insights-part-2-relationships-among-many-variables-1"><i class="fa fa-check"></i><b>14.10</b> Chapter 9 (Making Deeper Insights Part 2: Relationships among (many) variables)</a>
<ul>
<li class="chapter" data-level="14.10.1" data-path="answers.html"><a href="answers.html#general-questions-and-exercises-8"><i class="fa fa-check"></i><b>14.10.1</b> General questions and exercises</a></li>
<li class="chapter" data-level="14.10.2" data-path="answers.html"><a href="answers.html#workflow-questions-and-exercises-1"><i class="fa fa-check"></i><b>14.10.2</b> Workflow questions and exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.11" data-path="answers.html"><a href="answers.html#chapter-10-looking-back-and-looking-forward-1"><i class="fa fa-check"></i><b>14.11</b> Chapter 10 (Looking back and looking forward)</a></li>
<li class="chapter" data-level="14.12" data-path="answers.html"><a href="answers.html#foodpolgdp"><i class="fa fa-check"></i><b>14.12</b> Polity, food diversity, and GDP challenge</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="corrections.html"><a href="corrections.html"><i class="fa fa-check"></i><b>15</b> Corrections</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Companion Website — Insights from Data with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="WFD-diet-restrict-solutions" class="section level1" number="9">
<h1><span class="header-section-number">Chapter 9</span> Solutions: What are the effects of dietary restriction?</h1>
<p><img src="images/WF4_icon.png" width="100"/></p>
<div id="about-these-solutions" class="section level2" number="9.1">
<h2><span class="header-section-number">9.1</span> About these solutions</h2>
<p>At the time of publication (early 2021) there are likely some improvements that could be made to these solutions, in terms of the description of what we do in it, why we do it, and how we do it. If anything seems odd, unclear, or sub-optimal, please don’t hesitate to get in touch, and we will quickly make improvements.</p>
<p><strong>Q1 Types of response variable for each individual characteristic</strong></p>
<ul>
<li>Mortality—binary, dead or alive.</li>
<li>Time spent courting—cannot be negative, will likely be numeric, may be distrete (e.g. 10 mins or 20 minutes) or continuous, ratio type.</li>
<li>Female reproduction egg production—count type data, not negative, discrete (integers), ratio type.</li>
<li>Change in fish length—could be negative or positive, ratio type.</li>
<li>Body condition index (a measure of the weight of an individual relative to its length)-only positive, likely continuous, ratio type.</li>
</ul>
<p><strong>Q2. How many fish and how many of each sex?</strong></p>
<ul>
<li>300 female and 300 female.</li>
</ul>
<p><strong>Q3. What treatments were there?</strong></p>
<ul>
<li>Five diets varying in protein and lipid content (Table 2 in paper).</li>
<li>Three provisioning levels (100%, 75% or 50% of ad libitum intake).</li>
<li>A total of 15 dietary treatments.</li>
</ul>
<p><strong>Q4. What are the important features of the data?</strong></p>
<ul>
<li><strong>Number of variables</strong>: not too many as a designed experiment with clear question.</li>
<li><strong>Number of observations</strong>: number of fish (they were “individually housed,” and assigned treatment on an individual level).</li>
<li><strong>Variables describing manipulations</strong>: yes, two.</li>
<li><strong>Correlation among variables</strong>: low (factorial experiment, though some imbalance likely)</li>
<li><strong>Independence of observations</strong>: there may be multiple observations per fish (repeated measures). Fish may share mothers, fathers, and other pre-experiment conditions.</li>
</ul>
<p><strong>Q5. Which datafiles do you need?</strong></p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="WFD-diet-restrict-solutions.html#cb242-1" aria-hidden="true" tabindex="-1"></a>mortality <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/Moatt_et_al_Data_S1.csv&quot;</span>)</span></code></pre></div>
<pre><code>## 
## ── Column specification ───────────────────────────────
## cols(
##   .default = col_double(),
##   FID = col_character(),
##   Sex = col_character(),
##   Size = col_character()
## )
## ℹ Use `spec()` for the full column specifications.</code></pre>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="WFD-diet-restrict-solutions.html#cb244-1" aria-hidden="true" tabindex="-1"></a>courtship <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/Moatt_et_al_Data_S5.csv&quot;</span>)</span></code></pre></div>
<pre><code>## 
## ── Column specification ───────────────────────────────
## cols(
##   FID = col_character(),
##   Family = col_character(),
##   Shelf_stack = col_character(),
##   Diet = col_double(),
##   Level = col_double(),
##   Size = col_character(),
##   Trial = col_double(),
##   Days_breeding = col_double(),
##   P_day = col_double(),
##   P2_day = col_double(),
##   L_day = col_double(),
##   L2_day = col_double(),
##   Mean_react = col_double(),
##   Total_ZZ = col_double(),
##   Total_lead = col_double(),
##   Total_court = col_double()
## )</code></pre>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="WFD-diet-restrict-solutions.html#cb246-1" aria-hidden="true" tabindex="-1"></a>eggs <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/Moatt_et_al_Data_S6.csv&quot;</span>)</span></code></pre></div>
<pre><code>## 
## ── Column specification ───────────────────────────────
## cols(
##   FID = col_character(),
##   Family = col_character(),
##   Stack_shelf = col_character(),
##   Diet = col_double(),
##   Level = col_double(),
##   Size = col_character(),
##   P_day = col_double(),
##   P2_day = col_double(),
##   L_day = col_double(),
##   L2_day = col_double(),
##   Days_breeding = col_double(),
##   Number_clutches = col_double(),
##   mean_number = col_double(),
##   Total_egg = col_double()
## )</code></pre>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="WFD-diet-restrict-solutions.html#cb248-1" aria-hidden="true" tabindex="-1"></a>length_weight_condition <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/Moatt_et_al_Data_S15.csv&quot;</span>)</span></code></pre></div>
<pre><code>## 
## ── Column specification ───────────────────────────────
## cols(
##   FID = col_character(),
##   Shelf_stack = col_character(),
##   Sex = col_character(),
##   Diet = col_double(),
##   Level = col_double(),
##   Size = col_character(),
##   Batch = col_double(),
##   P_day = col_double(),
##   P2_day = col_double(),
##   L_day = col_double(),
##   L2_day = col_double(),
##   ZP = col_double(),
##   ZP2 = col_double(),
##   ZL = col_double(),
##   ZL2 = col_double(),
##   Ln = col_double(),
##   Wt = col_double(),
##   CI = col_double()
## )</code></pre>
<p><strong>Q6. Which variables tell us about the experimental design (including the explantory variables) and when observations were made?</strong></p>
<ul>
<li><strong>FID</strong> – Unique ID for each individual.</li>
<li><strong>Diet</strong> – Diet Treatment (Diet P:L: 1 = 10.2:1, 2 = 4.6:1, 3 = 2.5:1, 4 = 8.5:1, 5 = 1.6:1).</li>
<li><strong>Sex</strong> – Sex of individual (M = male, F = female).</li>
<li><strong>Size</strong> – Size classification of individual (L = large, S = Small).</li>
<li><strong>Level</strong> – Provisioning level, values represent percentages of monthly ad libitum monitoring.</li>
<li><strong>Week_F</strong> – Experimental week.</li>
<li><strong>Batch</strong> – Weighing batch.</li>
</ul>
<p><strong>Q7. Which variables in which dataset can be used to calculate each of the five response variables?</strong></p>
<ul>
<li>Mortality: <code>status</code>, 0 = alive, 1 = Dead, in <code>Moatt_et_al_Data_S1.csv</code></li>
<li>Time spent courting: <code>Total_court</code> – Total time courting across all trials, in <code>Moatt_et_al_Data_S5.csv</code>.</li>
<li>Female reproduction egg production: <code>Total_egg</code> – Total number of eggs produced, in <code>Moatt_et_al_Data_S6.csv</code>.</li>
<li>Change in fish length: Ln – Length of individual in mm, in <code>Moatt_et_al_Data_S15.csv</code>.</li>
<li>Body condition index: CI – Condition Index for each individual, <code>Moatt_et_al_Data_S15.csv</code>.</li>
</ul>
<p><strong>Q8. How many rows are in each dataset?</strong></p>
<ul>
<li><code>Moatt_et_al_Data_S1.csv</code>: 33’049 rows, 24 variables</li>
<li><code>Moatt_et_al_Data_S5.csv</code>: 228, 16</li>
<li><code>Moatt_et_al_Data_S6.csv</code>: 269, 14</li>
<li><code>Moatt_et_al_Data_S15.csv</code>:6000, 18</li>
</ul>
<p><strong>Q9. Which of the datasets are tidy and which are not?</strong></p>
<p>All four datasets appear tidy, at the moment.</p>
<p><strong>Q10. Rename the following variables to be more intepretable, and only keep necessary variables:</strong></p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="WFD-diet-restrict-solutions.html#cb250-1" aria-hidden="true" tabindex="-1"></a>courtship <span class="ot">&lt;-</span> courtship <span class="sc">%&gt;%</span></span>
<span id="cb250-2"><a href="WFD-diet-restrict-solutions.html#cb250-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">Fish_ID=</span>FID, Family, Shelf_stack, <span class="at">Diet_comp=</span>Diet,</span>
<span id="cb250-3"><a href="WFD-diet-restrict-solutions.html#cb250-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">Prov_level=</span>Level, <span class="at">Fish_size=</span>Size, Trial, Total_court)</span>
<span id="cb250-4"><a href="WFD-diet-restrict-solutions.html#cb250-4" aria-hidden="true" tabindex="-1"></a>eggs <span class="ot">&lt;-</span> eggs <span class="sc">%&gt;%</span></span>
<span id="cb250-5"><a href="WFD-diet-restrict-solutions.html#cb250-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">Fish_ID=</span>FID, Family, <span class="at">Shelf_stack=</span>Stack_shelf, <span class="at">Diet_comp=</span>Diet,</span>
<span id="cb250-6"><a href="WFD-diet-restrict-solutions.html#cb250-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">Prov_level=</span>Level, <span class="at">Fish_size=</span>Size, Total_egg)</span>
<span id="cb250-7"><a href="WFD-diet-restrict-solutions.html#cb250-7" aria-hidden="true" tabindex="-1"></a>length_weight_condition <span class="ot">&lt;-</span> length_weight_condition <span class="sc">%&gt;%</span></span>
<span id="cb250-8"><a href="WFD-diet-restrict-solutions.html#cb250-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">Fish_ID=</span>FID, Shelf_stack, <span class="at">Diet_comp=</span>Diet, <span class="at">Sex=</span>Sex,</span>
<span id="cb250-9"><a href="WFD-diet-restrict-solutions.html#cb250-9" aria-hidden="true" tabindex="-1"></a>         Batch,</span>
<span id="cb250-10"><a href="WFD-diet-restrict-solutions.html#cb250-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">Prov_level=</span>Level, <span class="at">Fish_size=</span>Size, <span class="at">Length=</span>Ln, <span class="at">Weigth=</span>Wt, <span class="at">Cond_index=</span>CI)</span>
<span id="cb250-11"><a href="WFD-diet-restrict-solutions.html#cb250-11" aria-hidden="true" tabindex="-1"></a>mortality <span class="ot">&lt;-</span> mortality <span class="sc">%&gt;%</span></span>
<span id="cb250-12"><a href="WFD-diet-restrict-solutions.html#cb250-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">Fish_ID=</span>FID, <span class="at">Diet_comp=</span>Diet, Sex,</span>
<span id="cb250-13"><a href="WFD-diet-restrict-solutions.html#cb250-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">Prov_level=</span>Level, <span class="at">Fish_size=</span>Size, <span class="at">Week=</span>Week_F, Status)</span></code></pre></div>
<p><strong>Q11. Replace codes with informative words, for at least the <code>Diet</code> variable (or what you renamed it to), the <code>Fish_size</code> variable, the <code>Sex</code> variable, and the <code>Status</code> variable.</strong></p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="WFD-diet-restrict-solutions.html#cb251-1" aria-hidden="true" tabindex="-1"></a>courtship <span class="ot">&lt;-</span> courtship <span class="sc">%&gt;%</span></span>
<span id="cb251-2"><a href="WFD-diet-restrict-solutions.html#cb251-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Diet_comp =</span> <span class="fu">case_when</span>(Diet_comp <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;10.2:1&quot;</span>,</span>
<span id="cb251-3"><a href="WFD-diet-restrict-solutions.html#cb251-3" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;4.6:1&quot;</span>,</span>
<span id="cb251-4"><a href="WFD-diet-restrict-solutions.html#cb251-4" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;2.5:1&quot;</span>,</span>
<span id="cb251-5"><a href="WFD-diet-restrict-solutions.html#cb251-5" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">&quot;8.5:1&quot;</span>,</span>
<span id="cb251-6"><a href="WFD-diet-restrict-solutions.html#cb251-6" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">&quot;1.6:1&quot;</span>),</span>
<span id="cb251-7"><a href="WFD-diet-restrict-solutions.html#cb251-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">Fish_size =</span> <span class="fu">case_when</span>(Fish_size <span class="sc">==</span> <span class="st">&quot;S&quot;</span> <span class="sc">~</span> <span class="st">&quot;Small&quot;</span>,</span>
<span id="cb251-8"><a href="WFD-diet-restrict-solutions.html#cb251-8" aria-hidden="true" tabindex="-1"></a>                               Fish_size <span class="sc">==</span> <span class="st">&quot;L&quot;</span> <span class="sc">~</span> <span class="st">&quot;Large&quot;</span>))</span>
<span id="cb251-9"><a href="WFD-diet-restrict-solutions.html#cb251-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-10"><a href="WFD-diet-restrict-solutions.html#cb251-10" aria-hidden="true" tabindex="-1"></a>eggs <span class="ot">&lt;-</span> eggs <span class="sc">%&gt;%</span></span>
<span id="cb251-11"><a href="WFD-diet-restrict-solutions.html#cb251-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Diet_comp =</span> <span class="fu">case_when</span>(Diet_comp <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;10.2:1&quot;</span>,</span>
<span id="cb251-12"><a href="WFD-diet-restrict-solutions.html#cb251-12" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;4.6:1&quot;</span>,</span>
<span id="cb251-13"><a href="WFD-diet-restrict-solutions.html#cb251-13" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;2.5:1&quot;</span>,</span>
<span id="cb251-14"><a href="WFD-diet-restrict-solutions.html#cb251-14" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">&quot;8.5:1&quot;</span>,</span>
<span id="cb251-15"><a href="WFD-diet-restrict-solutions.html#cb251-15" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">&quot;1.6:1&quot;</span>),</span>
<span id="cb251-16"><a href="WFD-diet-restrict-solutions.html#cb251-16" aria-hidden="true" tabindex="-1"></a>         <span class="at">Fish_size =</span> <span class="fu">case_when</span>(Fish_size <span class="sc">==</span> <span class="st">&quot;S&quot;</span> <span class="sc">~</span> <span class="st">&quot;Small&quot;</span>,</span>
<span id="cb251-17"><a href="WFD-diet-restrict-solutions.html#cb251-17" aria-hidden="true" tabindex="-1"></a>                               Fish_size <span class="sc">==</span> <span class="st">&quot;L&quot;</span> <span class="sc">~</span> <span class="st">&quot;Large&quot;</span>))</span>
<span id="cb251-18"><a href="WFD-diet-restrict-solutions.html#cb251-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-19"><a href="WFD-diet-restrict-solutions.html#cb251-19" aria-hidden="true" tabindex="-1"></a>length_weight_condition <span class="ot">&lt;-</span> length_weight_condition <span class="sc">%&gt;%</span></span>
<span id="cb251-20"><a href="WFD-diet-restrict-solutions.html#cb251-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Diet_comp =</span> <span class="fu">case_when</span>(Diet_comp <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;10.2:1&quot;</span>,</span>
<span id="cb251-21"><a href="WFD-diet-restrict-solutions.html#cb251-21" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;4.6:1&quot;</span>,</span>
<span id="cb251-22"><a href="WFD-diet-restrict-solutions.html#cb251-22" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;2.5:1&quot;</span>,</span>
<span id="cb251-23"><a href="WFD-diet-restrict-solutions.html#cb251-23" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">&quot;8.5:1&quot;</span>,</span>
<span id="cb251-24"><a href="WFD-diet-restrict-solutions.html#cb251-24" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">&quot;1.6:1&quot;</span>),</span>
<span id="cb251-25"><a href="WFD-diet-restrict-solutions.html#cb251-25" aria-hidden="true" tabindex="-1"></a>         <span class="at">Fish_size =</span> <span class="fu">case_when</span>(Fish_size <span class="sc">==</span> <span class="st">&quot;S&quot;</span> <span class="sc">~</span> <span class="st">&quot;Small&quot;</span>,</span>
<span id="cb251-26"><a href="WFD-diet-restrict-solutions.html#cb251-26" aria-hidden="true" tabindex="-1"></a>                               Fish_size <span class="sc">==</span> <span class="st">&quot;L&quot;</span> <span class="sc">~</span> <span class="st">&quot;Large&quot;</span>),</span>
<span id="cb251-27"><a href="WFD-diet-restrict-solutions.html#cb251-27" aria-hidden="true" tabindex="-1"></a>         <span class="at">Sex =</span> <span class="fu">case_when</span>(Sex <span class="sc">==</span> <span class="st">&quot;M&quot;</span> <span class="sc">~</span> <span class="st">&quot;Male&quot;</span>,</span>
<span id="cb251-28"><a href="WFD-diet-restrict-solutions.html#cb251-28" aria-hidden="true" tabindex="-1"></a>                         Sex <span class="sc">==</span> <span class="st">&quot;F&quot;</span> <span class="sc">~</span> <span class="st">&quot;Female&quot;</span>))</span>
<span id="cb251-29"><a href="WFD-diet-restrict-solutions.html#cb251-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-30"><a href="WFD-diet-restrict-solutions.html#cb251-30" aria-hidden="true" tabindex="-1"></a>mortality <span class="ot">&lt;-</span> mortality <span class="sc">%&gt;%</span></span>
<span id="cb251-31"><a href="WFD-diet-restrict-solutions.html#cb251-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Diet_comp =</span> <span class="fu">case_when</span>(Diet_comp <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;10.2:1&quot;</span>,</span>
<span id="cb251-32"><a href="WFD-diet-restrict-solutions.html#cb251-32" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;4.6:1&quot;</span>,</span>
<span id="cb251-33"><a href="WFD-diet-restrict-solutions.html#cb251-33" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;2.5:1&quot;</span>,</span>
<span id="cb251-34"><a href="WFD-diet-restrict-solutions.html#cb251-34" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">&quot;8.5:1&quot;</span>,</span>
<span id="cb251-35"><a href="WFD-diet-restrict-solutions.html#cb251-35" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">&quot;1.6:1&quot;</span>),</span>
<span id="cb251-36"><a href="WFD-diet-restrict-solutions.html#cb251-36" aria-hidden="true" tabindex="-1"></a>         <span class="at">Fish_size =</span> <span class="fu">case_when</span>(Fish_size <span class="sc">==</span> <span class="st">&quot;S&quot;</span> <span class="sc">~</span> <span class="st">&quot;Small&quot;</span>,</span>
<span id="cb251-37"><a href="WFD-diet-restrict-solutions.html#cb251-37" aria-hidden="true" tabindex="-1"></a>                               Fish_size <span class="sc">==</span> <span class="st">&quot;L&quot;</span> <span class="sc">~</span> <span class="st">&quot;Large&quot;</span>),</span>
<span id="cb251-38"><a href="WFD-diet-restrict-solutions.html#cb251-38" aria-hidden="true" tabindex="-1"></a>         <span class="at">Sex =</span> <span class="fu">case_when</span>(Sex <span class="sc">==</span> <span class="st">&quot;M&quot;</span> <span class="sc">~</span> <span class="st">&quot;Male&quot;</span>,</span>
<span id="cb251-39"><a href="WFD-diet-restrict-solutions.html#cb251-39" aria-hidden="true" tabindex="-1"></a>                         Sex <span class="sc">==</span> <span class="st">&quot;F&quot;</span> <span class="sc">~</span> <span class="st">&quot;Female&quot;</span>),</span>
<span id="cb251-40"><a href="WFD-diet-restrict-solutions.html#cb251-40" aria-hidden="true" tabindex="-1"></a>         <span class="at">Status =</span> <span class="fu">case_when</span>(Status <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;alive&quot;</span>,</span>
<span id="cb251-41"><a href="WFD-diet-restrict-solutions.html#cb251-41" aria-hidden="true" tabindex="-1"></a>                            Status <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;dead&quot;</span>))</span></code></pre></div>
<p><strong>Q12. which of the four datasets contains an odd duplicate entry? And which fish is involved? What should we do next?</strong></p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="WFD-diet-restrict-solutions.html#cb252-1" aria-hidden="true" tabindex="-1"></a>courtship <span class="sc">%&gt;%</span> <span class="fu">select</span>(Fish_ID) <span class="sc">%&gt;%</span></span>
<span id="cb252-2"><a href="WFD-diet-restrict-solutions.html#cb252-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">duplicated</span>() <span class="sc">%&gt;%</span></span>
<span id="cb252-3"><a href="WFD-diet-restrict-solutions.html#cb252-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>()</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="WFD-diet-restrict-solutions.html#cb254-1" aria-hidden="true" tabindex="-1"></a>eggs <span class="sc">%&gt;%</span> <span class="fu">select</span>(Fish_ID) <span class="sc">%&gt;%</span></span>
<span id="cb254-2"><a href="WFD-diet-restrict-solutions.html#cb254-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">duplicated</span>() <span class="sc">%&gt;%</span></span>
<span id="cb254-3"><a href="WFD-diet-restrict-solutions.html#cb254-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>()</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="WFD-diet-restrict-solutions.html#cb256-1" aria-hidden="true" tabindex="-1"></a>length_weight_condition <span class="sc">%&gt;%</span> <span class="fu">select</span>(Fish_ID, Batch) <span class="sc">%&gt;%</span></span>
<span id="cb256-2"><a href="WFD-diet-restrict-solutions.html#cb256-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">duplicated</span>() <span class="sc">%&gt;%</span></span>
<span id="cb256-3"><a href="WFD-diet-restrict-solutions.html#cb256-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>()</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="WFD-diet-restrict-solutions.html#cb258-1" aria-hidden="true" tabindex="-1"></a>mortality <span class="sc">%&gt;%</span> <span class="fu">select</span>(Fish_ID, Week) <span class="sc">%&gt;%</span></span>
<span id="cb258-2"><a href="WFD-diet-restrict-solutions.html#cb258-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">duplicated</span>() <span class="sc">%&gt;%</span></span>
<span id="cb258-3"><a href="WFD-diet-restrict-solutions.html#cb258-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>()</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="WFD-diet-restrict-solutions.html#cb260-1" aria-hidden="true" tabindex="-1"></a>dupl <span class="ot">&lt;-</span> mortality <span class="sc">%&gt;%</span> <span class="fu">select</span>(Fish_ID, Week) <span class="sc">%&gt;%</span></span>
<span id="cb260-2"><a href="WFD-diet-restrict-solutions.html#cb260-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">duplicated</span>()</span>
<span id="cb260-3"><a href="WFD-diet-restrict-solutions.html#cb260-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb260-4"><a href="WFD-diet-restrict-solutions.html#cb260-4" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(mortality, dupl)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 7
##   Fish_ID Diet_comp Sex   Prov_level Fish_size  Week
##   &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;      &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;
## 1 LR504   1.6:1     Male         100 Small         2
## # … with 1 more variable: Status &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="WFD-diet-restrict-solutions.html#cb262-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(mortality, Fish_ID<span class="sc">==</span><span class="st">&quot;LR504&quot;</span>, Week<span class="sc">==</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## # A tibble: 2 x 7
##   Fish_ID Diet_comp Sex   Prov_level Fish_size  Week
##   &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;      &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;
## 1 LR504   1.6:1     Male         100 Small         2
## 2 LR504   1.6:1     Male         100 Small         2
## # … with 1 more variable: Status &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="WFD-diet-restrict-solutions.html#cb264-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(mortality, Fish_ID<span class="sc">==</span><span class="st">&quot;LR504&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 4 x 7
##   Fish_ID Diet_comp Sex   Prov_level Fish_size  Week
##   &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;      &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;
## 1 LR504   1.6:1     Male         100 Small         1
## 2 LR504   1.6:1     Male         100 Small         2
## 3 LR504   1.6:1     Male         100 Small         2
## 4 LR504   1.6:1     Male         100 Small         4
## # … with 1 more variable: Status &lt;chr&gt;</code></pre>
<p>In the mortality dataset fish LR504 has two records for week 2.</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="WFD-diet-restrict-solutions.html#cb266-1" aria-hidden="true" tabindex="-1"></a><span class="co"># here we check if this is the only fish with fewer records than weeks it was observed in</span></span>
<span id="cb266-2"><a href="WFD-diet-restrict-solutions.html#cb266-2" aria-hidden="true" tabindex="-1"></a>check <span class="ot">&lt;-</span> mortality <span class="sc">%&gt;%</span></span>
<span id="cb266-3"><a href="WFD-diet-restrict-solutions.html#cb266-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Fish_ID) <span class="sc">%&gt;%</span></span>
<span id="cb266-4"><a href="WFD-diet-restrict-solutions.html#cb266-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">check =</span> <span class="fu">length</span>(<span class="fu">unique</span>(Week))<span class="sc">==</span><span class="fu">max</span>(Week))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="WFD-diet-restrict-solutions.html#cb268-1" aria-hidden="true" tabindex="-1"></a>check <span class="sc">%&gt;%</span></span>
<span id="cb268-2"><a href="WFD-diet-restrict-solutions.html#cb268-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>check)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##   Fish_ID check
##   &lt;chr&gt;   &lt;lgl&gt;
## 1 LR504   FALSE</code></pre>
<div id="nas-variable-entries-e.g.-levels-of-characters-ranges-of-numerics-numbers-of-things-1" class="section level3" number="9.1.1">
<h3><span class="header-section-number">9.1.1</span> NAs, variable entries, e.g. levels of characters, ranges of numerics, numbers of “things”*</h3>
<p><strong>Q13. How many missing values in the courtship dataset (remember to reduce the variables to those mentioned above)?</strong></p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="WFD-diet-restrict-solutions.html#cb270-1" aria-hidden="true" tabindex="-1"></a>courtship <span class="sc">%&gt;%</span></span>
<span id="cb270-2"><a href="WFD-diet-restrict-solutions.html#cb270-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter_all</span>(<span class="fu">any_vars</span>(<span class="fu">is.na</span>(.))) </span></code></pre></div>
<pre><code>## # A tibble: 1 x 8
##   Fish_ID Family Shelf_stack Diet_comp Prov_level
##   &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;       &lt;chr&gt;          &lt;dbl&gt;
## 1 LR021   F117   A3          8.5:1             50
## # … with 3 more variables: Fish_size &lt;chr&gt;,
## #   Trial &lt;dbl&gt;, Total_court &lt;dbl&gt;</code></pre>
<p><strong>Q14. Which variable(s) contain missing values?</strong></p>
<p><em>See answer for previous question.</em></p>
<p><strong>Q15. Which fish have missing values?</strong></p>
<p><em>See answer for previous question.</em></p>
<p><strong>Q16. How many different entries are there in the <code>Shelf_stack</code> variable?</strong></p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb272-1"><a href="WFD-diet-restrict-solutions.html#cb272-1" aria-hidden="true" tabindex="-1"></a>courtship <span class="sc">%&gt;%</span></span>
<span id="cb272-2"><a href="WFD-diet-restrict-solutions.html#cb272-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Shelf_stack) <span class="sc">%&gt;%</span></span>
<span id="cb272-3"><a href="WFD-diet-restrict-solutions.html#cb272-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()</span></code></pre></div>
<pre><code>##  [1] &quot;A1&quot; &quot;A2&quot; &quot;A3&quot; &quot;B1&quot; &quot;B2&quot; &quot;B3&quot; &quot;C1&quot; &quot;C2&quot; &quot;C3&quot; &quot;D1&quot;
## [11] &quot;D2&quot; &quot;D3&quot; &quot;E1&quot; &quot;E2&quot; &quot;E3&quot; &quot;F1&quot; &quot;F2&quot; &quot;F3&quot; &quot;G1&quot; &quot;G2&quot;
## [21] &quot;G3&quot; &quot;H1&quot; &quot;H2&quot; &quot;H3&quot; &quot;I1&quot; &quot;I2&quot; &quot;I3&quot; &quot;J1&quot; &quot;J2&quot; &quot;J3&quot;
## [31] &quot;K1&quot; &quot;K2&quot; &quot;K3&quot; &quot;L1&quot; &quot;L3&quot; &quot;L2&quot;</code></pre>
<p><strong>Q17. What are the mean and median of the <code>Total_court</code> variable?</strong></p>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="WFD-diet-restrict-solutions.html#cb274-1" aria-hidden="true" tabindex="-1"></a>courtship <span class="sc">%&gt;%</span></span>
<span id="cb274-2"><a href="WFD-diet-restrict-solutions.html#cb274-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_total_court =</span> <span class="fu">mean</span>(Total_court, <span class="at">na.rm=</span>T),</span>
<span id="cb274-3"><a href="WFD-diet-restrict-solutions.html#cb274-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">media_total_court =</span> <span class="fu">median</span>(Total_court, <span class="at">na.rm=</span>T))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##   mean_total_court media_total_court
##              &lt;dbl&gt;             &lt;dbl&gt;
## 1             453.               337</code></pre>
<p><strong>Q18 What are the units of the <code>Total_court</code> variable? (This is a trick/sneaky question.)</strong></p>
<p><strong>Q19. How many fish are in each of the datasets?</strong></p>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb276-1"><a href="WFD-diet-restrict-solutions.html#cb276-1" aria-hidden="true" tabindex="-1"></a>courtship <span class="sc">%&gt;%</span></span>
<span id="cb276-2"><a href="WFD-diet-restrict-solutions.html#cb276-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Fish_ID) <span class="sc">%&gt;%</span></span>
<span id="cb276-3"><a href="WFD-diet-restrict-solutions.html#cb276-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">%&gt;%</span></span>
<span id="cb276-4"><a href="WFD-diet-restrict-solutions.html#cb276-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>()</span></code></pre></div>
<pre><code>## [1] 228</code></pre>
<div class="sourceCode" id="cb278"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb278-1"><a href="WFD-diet-restrict-solutions.html#cb278-1" aria-hidden="true" tabindex="-1"></a>eggs <span class="sc">%&gt;%</span></span>
<span id="cb278-2"><a href="WFD-diet-restrict-solutions.html#cb278-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Fish_ID) <span class="sc">%&gt;%</span></span>
<span id="cb278-3"><a href="WFD-diet-restrict-solutions.html#cb278-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">%&gt;%</span></span>
<span id="cb278-4"><a href="WFD-diet-restrict-solutions.html#cb278-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>()</span></code></pre></div>
<pre><code>## [1] 269</code></pre>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb280-1"><a href="WFD-diet-restrict-solutions.html#cb280-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(eggs)</span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-168">TABLE 9.1: </span>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">eggs</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">269</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">7</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">character</td>
<td align="left">5</td>
</tr>
<tr class="odd">
<td align="left">numeric</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">min</th>
<th align="right">max</th>
<th align="right">empty</th>
<th align="right">n_unique</th>
<th align="right">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Fish_ID</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">269</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Family</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">20</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Shelf_stack</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">36</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Diet_comp</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">6</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Fish_size</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Prov_level</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">75.09</td>
<td align="right">20.32</td>
<td align="right">50</td>
<td align="right">50</td>
<td align="right">75</td>
<td align="right">100</td>
<td align="right">100</td>
<td align="left">▇▁▇▁▇</td>
</tr>
<tr class="even">
<td align="left">Total_egg</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1069.56</td>
<td align="right">631.56</td>
<td align="right">66</td>
<td align="right">609</td>
<td align="right">1001</td>
<td align="right">1402</td>
<td align="right">3608</td>
<td align="left">▇▇▃▁▁</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="WFD-diet-restrict-solutions.html#cb281-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(eggs, <span class="fu">is.na</span>(Total_egg))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 7
##   Fish_ID Family Shelf_stack Diet_comp Prov_level
##   &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;       &lt;chr&gt;          &lt;dbl&gt;
## 1 LR212   F121   D3          2.5:1             75
## # … with 2 more variables: Fish_size &lt;chr&gt;,
## #   Total_egg &lt;dbl&gt;</code></pre>
<p>269 fish IDs</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="WFD-diet-restrict-solutions.html#cb283-1" aria-hidden="true" tabindex="-1"></a>length_weight_condition <span class="sc">%&gt;%</span></span>
<span id="cb283-2"><a href="WFD-diet-restrict-solutions.html#cb283-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Fish_ID) <span class="sc">%&gt;%</span></span>
<span id="cb283-3"><a href="WFD-diet-restrict-solutions.html#cb283-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">%&gt;%</span></span>
<span id="cb283-4"><a href="WFD-diet-restrict-solutions.html#cb283-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>()</span></code></pre></div>
<pre><code>## [1] 600</code></pre>
<p>600 fish IDs</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="WFD-diet-restrict-solutions.html#cb285-1" aria-hidden="true" tabindex="-1"></a>mortality <span class="sc">%&gt;%</span></span>
<span id="cb285-2"><a href="WFD-diet-restrict-solutions.html#cb285-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Fish_ID) <span class="sc">%&gt;%</span></span>
<span id="cb285-3"><a href="WFD-diet-restrict-solutions.html#cb285-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">%&gt;%</span></span>
<span id="cb285-4"><a href="WFD-diet-restrict-solutions.html#cb285-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>()</span></code></pre></div>
<pre><code>## [1] 594</code></pre>
</div>
</div>
<div id="independence-1" class="section level2" number="9.2">
<h2><span class="header-section-number">9.2</span> Independence</h2>
<p><strong>Q20. Which of the datasets contains only one observation per fish, and which contain repeated (i.e. multiple) observations of each fish?</strong></p>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="WFD-diet-restrict-solutions.html#cb287-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">table</span>(<span class="fu">pull</span>(courtship, Fish_ID)) <span class="sc">&gt;</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p>Zero shows that no fish have more than one observation.</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="WFD-diet-restrict-solutions.html#cb289-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">table</span>(<span class="fu">pull</span>(eggs, Fish_ID)) <span class="sc">!=</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p>Zero shows that no fish have more than one observation.</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="WFD-diet-restrict-solutions.html#cb291-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">table</span>(<span class="fu">pull</span>(length_weight_condition, Fish_ID)) <span class="sc">!=</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 600</code></pre>
<p>All 600 fish have more than one observation… there is non-independence that we’ll have to deal with.</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="WFD-diet-restrict-solutions.html#cb293-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">table</span>(<span class="fu">pull</span>(mortality, Fish_ID)) <span class="sc">!=</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 586</code></pre>
<p>586 of the 594 fish in the mortality dataset have more than one observation… there is non-independence that we’ll have to deal with.</p>
</div>
<div id="balance-in-experimental-design-1" class="section level2" number="9.3">
<h2><span class="header-section-number">9.3</span> Balance in experimental design</h2>
<p><strong>Q21: From the description of the experiment in the paper, how many fish are there per treatment combination?</strong></p>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="WFD-diet-restrict-solutions.html#cb295-1" aria-hidden="true" tabindex="-1"></a>courtship <span class="sc">%&gt;%</span></span>
<span id="cb295-2"><a href="WFD-diet-restrict-solutions.html#cb295-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Diet_comp, Prov_level) <span class="sc">%&gt;%</span></span>
<span id="cb295-3"><a href="WFD-diet-restrict-solutions.html#cb295-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count=</span><span class="fu">n</span>(),</span>
<span id="cb295-4"><a href="WFD-diet-restrict-solutions.html#cb295-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">n_unique=</span><span class="fu">length</span>(<span class="fu">unique</span>(Fish_ID)))</span></code></pre></div>
<pre><code>## `summarise()` regrouping output by &#39;Diet_comp&#39; (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 15 x 4
##   Diet_comp Prov_level count n_unique
##   &lt;chr&gt;          &lt;dbl&gt; &lt;int&gt;    &lt;int&gt;
## 1 1.6:1             50    17       17
## 2 1.6:1             75    19       19
## 3 1.6:1            100    15       15
## 4 10.2:1            50    12       12
## 5 10.2:1            75    12       12
## # … with 10 more rows</code></pre>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="WFD-diet-restrict-solutions.html#cb298-1" aria-hidden="true" tabindex="-1"></a>eggs <span class="sc">%&gt;%</span></span>
<span id="cb298-2"><a href="WFD-diet-restrict-solutions.html#cb298-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Diet_comp, Prov_level) <span class="sc">%&gt;%</span></span>
<span id="cb298-3"><a href="WFD-diet-restrict-solutions.html#cb298-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">n</span>(),</span>
<span id="cb298-4"><a href="WFD-diet-restrict-solutions.html#cb298-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">n_unique=</span><span class="fu">length</span>(<span class="fu">unique</span>(Fish_ID)))</span></code></pre></div>
<pre><code>## `summarise()` regrouping output by &#39;Diet_comp&#39; (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 15 x 4
##   Diet_comp Prov_level `n()` n_unique
##   &lt;chr&gt;          &lt;dbl&gt; &lt;int&gt;    &lt;int&gt;
## 1 1.6:1             50    14       14
## 2 1.6:1             75    17       17
## 3 1.6:1            100    17       17
## 4 10.2:1            50    18       18
## 5 10.2:1            75    18       18
## # … with 10 more rows</code></pre>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="WFD-diet-restrict-solutions.html#cb301-1" aria-hidden="true" tabindex="-1"></a>length_weight_condition <span class="sc">%&gt;%</span></span>
<span id="cb301-2"><a href="WFD-diet-restrict-solutions.html#cb301-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Diet_comp, Prov_level) <span class="sc">%&gt;%</span></span>
<span id="cb301-3"><a href="WFD-diet-restrict-solutions.html#cb301-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">n</span>(),</span>
<span id="cb301-4"><a href="WFD-diet-restrict-solutions.html#cb301-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">n_unique=</span><span class="fu">length</span>(<span class="fu">unique</span>(Fish_ID)))</span></code></pre></div>
<pre><code>## `summarise()` regrouping output by &#39;Diet_comp&#39; (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 15 x 4
##   Diet_comp Prov_level `n()` n_unique
##   &lt;chr&gt;          &lt;dbl&gt; &lt;int&gt;    &lt;int&gt;
## 1 1.6:1             50   400       40
## 2 1.6:1             75   400       40
## 3 1.6:1            100   400       40
## 4 10.2:1            50   400       40
## 5 10.2:1            75   400       40
## # … with 10 more rows</code></pre>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb304-1"><a href="WFD-diet-restrict-solutions.html#cb304-1" aria-hidden="true" tabindex="-1"></a>mortality <span class="sc">%&gt;%</span></span>
<span id="cb304-2"><a href="WFD-diet-restrict-solutions.html#cb304-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Diet_comp, Prov_level) <span class="sc">%&gt;%</span></span>
<span id="cb304-3"><a href="WFD-diet-restrict-solutions.html#cb304-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">n</span>(),</span>
<span id="cb304-4"><a href="WFD-diet-restrict-solutions.html#cb304-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">n_unique=</span><span class="fu">length</span>(<span class="fu">unique</span>(Fish_ID)))</span></code></pre></div>
<pre><code>## `summarise()` regrouping output by &#39;Diet_comp&#39; (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 15 x 4
##   Diet_comp Prov_level `n()` n_unique
##   &lt;chr&gt;          &lt;dbl&gt; &lt;int&gt;    &lt;int&gt;
## 1 1.6:1             50  2239       39
## 2 1.6:1             75  2519       40
## 3 1.6:1            100  2258       40
## 4 10.2:1            50  1951       40
## 5 10.2:1            75  1668       39
## # … with 10 more rows</code></pre>
</div>
<div id="do-regression" class="section level2" number="9.4">
<h2><span class="header-section-number">9.4</span> Calculate response variable(s) (if required)</h2>
<p>The courtship and eggs datasets already contain the response variable.</p>
<p><strong>Q22. Calculate the response variable for the change in fish length and change in body condition from the <code>length_weight_condition</code> dataset, and the time of death (or no death [censored]) from the <code>mortality</code> dataset.</strong></p>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="WFD-diet-restrict-solutions.html#cb307-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Time of death</span></span>
<span id="cb307-2"><a href="WFD-diet-restrict-solutions.html#cb307-2" aria-hidden="true" tabindex="-1"></a>temp_mortality2 <span class="ot">&lt;-</span> mortality <span class="sc">%&gt;%</span></span>
<span id="cb307-3"><a href="WFD-diet-restrict-solutions.html#cb307-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Status<span class="sc">==</span><span class="st">&quot;alive&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb307-4"><a href="WFD-diet-restrict-solutions.html#cb307-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Fish_ID, Diet_comp, Prov_level, Sex) <span class="sc">%&gt;%</span></span>
<span id="cb307-5"><a href="WFD-diet-restrict-solutions.html#cb307-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Lifespan=</span><span class="fu">max</span>(Week))</span></code></pre></div>
<pre><code>## `summarise()` regrouping output by &#39;Fish_ID&#39;, &#39;Diet_comp&#39;, &#39;Prov_level&#39; (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="WFD-diet-restrict-solutions.html#cb309-1" aria-hidden="true" tabindex="-1"></a>last_obs <span class="ot">&lt;-</span> mortality  <span class="sc">%&gt;%</span></span>
<span id="cb309-2"><a href="WFD-diet-restrict-solutions.html#cb309-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Fish_ID, Diet_comp, Prov_level) <span class="sc">%&gt;%</span></span>
<span id="cb309-3"><a href="WFD-diet-restrict-solutions.html#cb309-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Last_sample=</span><span class="fu">max</span>(Week))</span></code></pre></div>
<pre><code>## `summarise()` regrouping output by &#39;Fish_ID&#39;, &#39;Diet_comp&#39; (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="WFD-diet-restrict-solutions.html#cb311-1" aria-hidden="true" tabindex="-1"></a>mortality2 <span class="ot">&lt;-</span> <span class="fu">full_join</span>(temp_mortality2, last_obs) <span class="sc">%&gt;%</span></span>
<span id="cb311-2"><a href="WFD-diet-restrict-solutions.html#cb311-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Censored=</span><span class="fu">ifelse</span>(Lifespan<span class="sc">==</span>Last_sample, T, F),</span>
<span id="cb311-3"><a href="WFD-diet-restrict-solutions.html#cb311-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">Lifespan=</span><span class="fu">ifelse</span>(<span class="fu">is.na</span>(Lifespan), <span class="dv">0</span>, Lifespan),</span>
<span id="cb311-4"><a href="WFD-diet-restrict-solutions.html#cb311-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">Censored=</span><span class="fu">ifelse</span>(Lifespan<span class="sc">==</span><span class="dv">0</span>, <span class="cn">FALSE</span>, Censored)) <span class="sc">%&gt;%</span></span>
<span id="cb311-5"><a href="WFD-diet-restrict-solutions.html#cb311-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb311-6"><a href="WFD-diet-restrict-solutions.html#cb311-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Last_sample)</span></code></pre></div>
<pre><code>## Joining, by = c(&quot;Fish_ID&quot;, &quot;Diet_comp&quot;, &quot;Prov_level&quot;)</code></pre>
<p>Above, we set the eight fish that were already dead at week 1 as having a lifespan of zero.</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="WFD-diet-restrict-solutions.html#cb313-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change in length</span></span>
<span id="cb313-2"><a href="WFD-diet-restrict-solutions.html#cb313-2" aria-hidden="true" tabindex="-1"></a>change1 <span class="ot">&lt;-</span> length_weight_condition <span class="sc">%&gt;%</span></span>
<span id="cb313-3"><a href="WFD-diet-restrict-solutions.html#cb313-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Fish_ID, Diet_comp, Prov_level) <span class="sc">%&gt;%</span></span>
<span id="cb313-4"><a href="WFD-diet-restrict-solutions.html#cb313-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">do</span>(<span class="at">m1 =</span> <span class="fu">tidy</span>(<span class="fu">lm</span>(Length <span class="sc">~</span> Batch, <span class="at">data=</span>.))) <span class="sc">%&gt;%</span></span>
<span id="cb313-5"><a href="WFD-diet-restrict-solutions.html#cb313-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb313-6"><a href="WFD-diet-restrict-solutions.html#cb313-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term<span class="sc">==</span><span class="st">&quot;Batch&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb313-7"><a href="WFD-diet-restrict-solutions.html#cb313-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Fish_ID, Diet_comp, Prov_level, <span class="at">Length_change=</span>estimate)</span></code></pre></div>
<pre><code>## Warning: `cols` is now required when using unnest().
## Please use `cols = c(m1)`</code></pre>
<p>Note that <code>tidy</code> silently drops NA coefficients.</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="WFD-diet-restrict-solutions.html#cb315-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change in condition</span></span>
<span id="cb315-2"><a href="WFD-diet-restrict-solutions.html#cb315-2" aria-hidden="true" tabindex="-1"></a>change2 <span class="ot">&lt;-</span> length_weight_condition <span class="sc">%&gt;%</span></span>
<span id="cb315-3"><a href="WFD-diet-restrict-solutions.html#cb315-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Fish_ID, Diet_comp, Prov_level) <span class="sc">%&gt;%</span></span>
<span id="cb315-4"><a href="WFD-diet-restrict-solutions.html#cb315-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">do</span>(<span class="at">m1 =</span> <span class="fu">tidy</span>(<span class="fu">lm</span>(Cond_index <span class="sc">~</span> Batch, <span class="at">data=</span>.))) <span class="sc">%&gt;%</span></span>
<span id="cb315-5"><a href="WFD-diet-restrict-solutions.html#cb315-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb315-6"><a href="WFD-diet-restrict-solutions.html#cb315-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term<span class="sc">==</span><span class="st">&quot;Batch&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb315-7"><a href="WFD-diet-restrict-solutions.html#cb315-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Fish_ID, Diet_comp, Prov_level, <span class="at">CI_change=</span>estimate)</span></code></pre></div>
<pre><code>## Warning: `cols` is now required when using unnest().
## Please use `cols = c(m1)`</code></pre>
<p>Note that <code>tidy</code> silently drops NA coefficients.</p>
<p><strong>Q23. Merge all the datasets.</strong></p>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb317-1"><a href="WFD-diet-restrict-solutions.html#cb317-1" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> <span class="fu">full_join</span>(courtship, eggs) <span class="sc">%&gt;%</span></span>
<span id="cb317-2"><a href="WFD-diet-restrict-solutions.html#cb317-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(mortality2) <span class="sc">%&gt;%</span></span>
<span id="cb317-3"><a href="WFD-diet-restrict-solutions.html#cb317-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(change1) <span class="sc">%&gt;%</span></span>
<span id="cb317-4"><a href="WFD-diet-restrict-solutions.html#cb317-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(change2)</span></code></pre></div>
<pre><code>## Joining, by = c(&quot;Fish_ID&quot;, &quot;Family&quot;, &quot;Shelf_stack&quot;, &quot;Diet_comp&quot;, &quot;Prov_level&quot;, &quot;Fish_size&quot;)</code></pre>
<pre><code>## Joining, by = c(&quot;Fish_ID&quot;, &quot;Diet_comp&quot;, &quot;Prov_level&quot;)
## Joining, by = c(&quot;Fish_ID&quot;, &quot;Diet_comp&quot;, &quot;Prov_level&quot;)
## Joining, by = c(&quot;Fish_ID&quot;, &quot;Diet_comp&quot;, &quot;Prov_level&quot;)</code></pre>
<p><strong>Q24. Bring in and merge the diet composition dataset (<code>diet_comp_treatments.csv</code>).</strong></p>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="WFD-diet-restrict-solutions.html#cb320-1" aria-hidden="true" tabindex="-1"></a>diet_comp <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/diet_comp_treatments.csv&quot;</span>)</span></code></pre></div>
<pre><code>## 
## ── Column specification ───────────────────────────────
## cols(
##   Protein = col_double(),
##   Lipid = col_double(),
##   Diet_comp = col_character()
## )</code></pre>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="WFD-diet-restrict-solutions.html#cb322-1" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> <span class="fu">full_join</span>(dd, diet_comp)</span></code></pre></div>
<pre><code>## Joining, by = &quot;Diet_comp&quot;</code></pre>
<p><strong>Q25. Reorder the <code>Diet_comp</code> variable, and make the <code>Prov_level</code> a factor with appropriate order.</strong></p>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb324-1"><a href="WFD-diet-restrict-solutions.html#cb324-1" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> <span class="fu">mutate</span>(dd,</span>
<span id="cb324-2"><a href="WFD-diet-restrict-solutions.html#cb324-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">Diet_comp =</span> <span class="fu">fct_relevel</span>(Diet_comp,</span>
<span id="cb324-3"><a href="WFD-diet-restrict-solutions.html#cb324-3" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;1.6:1&quot;</span>,</span>
<span id="cb324-4"><a href="WFD-diet-restrict-solutions.html#cb324-4" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;2.5:1&quot;</span>,</span>
<span id="cb324-5"><a href="WFD-diet-restrict-solutions.html#cb324-5" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;4.6:1&quot;</span>,</span>
<span id="cb324-6"><a href="WFD-diet-restrict-solutions.html#cb324-6" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;8.5:1&quot;</span>,</span>
<span id="cb324-7"><a href="WFD-diet-restrict-solutions.html#cb324-7" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;10.2:1&quot;</span>),</span>
<span id="cb324-8"><a href="WFD-diet-restrict-solutions.html#cb324-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">Prov_level =</span> <span class="fu">fct_relevel</span>(<span class="fu">as.character</span>(Prov_level),</span>
<span id="cb324-9"><a href="WFD-diet-restrict-solutions.html#cb324-9" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;50&quot;</span>,</span>
<span id="cb324-10"><a href="WFD-diet-restrict-solutions.html#cb324-10" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;75&quot;</span>,</span>
<span id="cb324-11"><a href="WFD-diet-restrict-solutions.html#cb324-11" aria-hidden="true" tabindex="-1"></a>                                            <span class="st">&quot;100&quot;</span>))</span></code></pre></div>
<p><strong>Q26. There are some irregularities in this merged dataset. Can you spot them?</strong></p>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="WFD-diet-restrict-solutions.html#cb325-1" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span></span>
<span id="cb325-2"><a href="WFD-diet-restrict-solutions.html#cb325-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sex <span class="sc">==</span> <span class="st">&quot;Female&quot;</span>, <span class="sc">!</span><span class="fu">is.na</span>(Total_court))</span></code></pre></div>
<pre><code>## # A tibble: 2 x 16
##   Fish_ID Family Shelf_stack Diet_comp Prov_level
##   &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;       &lt;fct&gt;     &lt;fct&gt;     
## 1 LR294   F122   F1          10.2:1    75        
## 2 LR364   F128   H1          2.5:1     100       
## # … with 11 more variables: Fish_size &lt;chr&gt;,
## #   Trial &lt;dbl&gt;, Total_court &lt;dbl&gt;, Total_egg &lt;dbl&gt;,
## #   Sex &lt;chr&gt;, Lifespan &lt;dbl&gt;, Censored &lt;lgl&gt;,
## #   Length_change &lt;dbl&gt;, CI_change &lt;dbl&gt;,
## #   Protein &lt;dbl&gt;, Lipid &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="WFD-diet-restrict-solutions.html#cb327-1" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span></span>
<span id="cb327-2"><a href="WFD-diet-restrict-solutions.html#cb327-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sex <span class="sc">==</span> <span class="st">&quot;Male&quot;</span>, <span class="sc">!</span><span class="fu">is.na</span>(Total_egg))</span></code></pre></div>
<pre><code>## # A tibble: 4 x 16
##   Fish_ID Family Shelf_stack Diet_comp Prov_level
##   &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;       &lt;fct&gt;     &lt;fct&gt;     
## 1 LR042   F128   A2          2.5:1     75        
## 2 LR581   F137   L1          8.5:1     50        
## 3 LR286   F128   F3          2.5:1     75        
## 4 LR467   F115   J2          8.5:1     50        
## # … with 11 more variables: Fish_size &lt;chr&gt;,
## #   Trial &lt;dbl&gt;, Total_court &lt;dbl&gt;, Total_egg &lt;dbl&gt;,
## #   Sex &lt;chr&gt;, Lifespan &lt;dbl&gt;, Censored &lt;lgl&gt;,
## #   Length_change &lt;dbl&gt;, CI_change &lt;dbl&gt;,
## #   Protein &lt;dbl&gt;, Lipid &lt;dbl&gt;</code></pre>
<p><strong>Q27. Now use the versions of the datafiles that have the word “udpated” in their name.</strong></p>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="WFD-diet-restrict-solutions.html#cb329-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list=</span><span class="fu">ls</span>())</span>
<span id="cb329-2"><a href="WFD-diet-restrict-solutions.html#cb329-2" aria-hidden="true" tabindex="-1"></a>mortality <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/Moatt_et_al_Data_S1_updated.csv&quot;</span>)</span>
<span id="cb329-3"><a href="WFD-diet-restrict-solutions.html#cb329-3" aria-hidden="true" tabindex="-1"></a>courtship <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/Moatt_et_al_Data_S5_updated.csv&quot;</span>)</span>
<span id="cb329-4"><a href="WFD-diet-restrict-solutions.html#cb329-4" aria-hidden="true" tabindex="-1"></a>eggs <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/Moatt_et_al_Data_S6_updated.csv&quot;</span>)</span>
<span id="cb329-5"><a href="WFD-diet-restrict-solutions.html#cb329-5" aria-hidden="true" tabindex="-1"></a>length_weight_condition <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/Moatt_et_al_Data_S15_updated.csv&quot;</span>)</span>
<span id="cb329-6"><a href="WFD-diet-restrict-solutions.html#cb329-6" aria-hidden="true" tabindex="-1"></a>courtship <span class="ot">&lt;-</span> courtship <span class="sc">%&gt;%</span></span>
<span id="cb329-7"><a href="WFD-diet-restrict-solutions.html#cb329-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">Fish_ID=</span>FID, Family, Shelf_stack, <span class="at">Diet_comp=</span>Diet,</span>
<span id="cb329-8"><a href="WFD-diet-restrict-solutions.html#cb329-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">Prov_level=</span>Level, <span class="at">Fish_size=</span>Size, Trial, Total_court)</span>
<span id="cb329-9"><a href="WFD-diet-restrict-solutions.html#cb329-9" aria-hidden="true" tabindex="-1"></a>eggs <span class="ot">&lt;-</span> eggs <span class="sc">%&gt;%</span></span>
<span id="cb329-10"><a href="WFD-diet-restrict-solutions.html#cb329-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">Fish_ID=</span>FID, Family, <span class="at">Shelf_stack=</span>Stack_shelf, <span class="at">Diet_comp=</span>Diet,</span>
<span id="cb329-11"><a href="WFD-diet-restrict-solutions.html#cb329-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">Prov_level=</span>Level, <span class="at">Fish_size=</span>Size, Total_egg)</span>
<span id="cb329-12"><a href="WFD-diet-restrict-solutions.html#cb329-12" aria-hidden="true" tabindex="-1"></a>length_weight_condition <span class="ot">&lt;-</span> length_weight_condition <span class="sc">%&gt;%</span></span>
<span id="cb329-13"><a href="WFD-diet-restrict-solutions.html#cb329-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">Fish_ID=</span>FID, Shelf_stack, <span class="at">Diet_comp=</span>Diet, <span class="at">Sex=</span>Sex,</span>
<span id="cb329-14"><a href="WFD-diet-restrict-solutions.html#cb329-14" aria-hidden="true" tabindex="-1"></a>         Batch,</span>
<span id="cb329-15"><a href="WFD-diet-restrict-solutions.html#cb329-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">Prov_level=</span>Level, <span class="at">Fish_size=</span>Size, <span class="at">Length=</span>Ln, <span class="at">Weigth=</span>Wt, <span class="at">Cond_index=</span>CI)</span>
<span id="cb329-16"><a href="WFD-diet-restrict-solutions.html#cb329-16" aria-hidden="true" tabindex="-1"></a>mortality <span class="ot">&lt;-</span> mortality <span class="sc">%&gt;%</span></span>
<span id="cb329-17"><a href="WFD-diet-restrict-solutions.html#cb329-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">Fish_ID=</span>FID, <span class="at">Diet_comp=</span>Diet, Sex,</span>
<span id="cb329-18"><a href="WFD-diet-restrict-solutions.html#cb329-18" aria-hidden="true" tabindex="-1"></a>         <span class="at">Prov_level=</span>Level, <span class="at">Fish_size=</span>Size, <span class="at">Week=</span>Week_F, Status)</span>
<span id="cb329-19"><a href="WFD-diet-restrict-solutions.html#cb329-19" aria-hidden="true" tabindex="-1"></a>courtship <span class="ot">&lt;-</span> courtship <span class="sc">%&gt;%</span></span>
<span id="cb329-20"><a href="WFD-diet-restrict-solutions.html#cb329-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Diet_comp =</span> <span class="fu">case_when</span>(Diet_comp <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;10.2:1&quot;</span>,</span>
<span id="cb329-21"><a href="WFD-diet-restrict-solutions.html#cb329-21" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;4.6:1&quot;</span>,</span>
<span id="cb329-22"><a href="WFD-diet-restrict-solutions.html#cb329-22" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;2.5:1&quot;</span>,</span>
<span id="cb329-23"><a href="WFD-diet-restrict-solutions.html#cb329-23" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">&quot;8.5:1&quot;</span>,</span>
<span id="cb329-24"><a href="WFD-diet-restrict-solutions.html#cb329-24" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">&quot;1.6:1&quot;</span>),</span>
<span id="cb329-25"><a href="WFD-diet-restrict-solutions.html#cb329-25" aria-hidden="true" tabindex="-1"></a>         <span class="at">Fish_size =</span> <span class="fu">case_when</span>(Fish_size <span class="sc">==</span> <span class="st">&quot;S&quot;</span> <span class="sc">~</span> <span class="st">&quot;Small&quot;</span>,</span>
<span id="cb329-26"><a href="WFD-diet-restrict-solutions.html#cb329-26" aria-hidden="true" tabindex="-1"></a>                               Fish_size <span class="sc">==</span> <span class="st">&quot;L&quot;</span> <span class="sc">~</span> <span class="st">&quot;Large&quot;</span>))</span>
<span id="cb329-27"><a href="WFD-diet-restrict-solutions.html#cb329-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb329-28"><a href="WFD-diet-restrict-solutions.html#cb329-28" aria-hidden="true" tabindex="-1"></a>eggs <span class="ot">&lt;-</span> eggs <span class="sc">%&gt;%</span></span>
<span id="cb329-29"><a href="WFD-diet-restrict-solutions.html#cb329-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Diet_comp =</span> <span class="fu">case_when</span>(Diet_comp <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;10.2:1&quot;</span>,</span>
<span id="cb329-30"><a href="WFD-diet-restrict-solutions.html#cb329-30" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;4.6:1&quot;</span>,</span>
<span id="cb329-31"><a href="WFD-diet-restrict-solutions.html#cb329-31" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;2.5:1&quot;</span>,</span>
<span id="cb329-32"><a href="WFD-diet-restrict-solutions.html#cb329-32" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">&quot;8.5:1&quot;</span>,</span>
<span id="cb329-33"><a href="WFD-diet-restrict-solutions.html#cb329-33" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">&quot;1.6:1&quot;</span>),</span>
<span id="cb329-34"><a href="WFD-diet-restrict-solutions.html#cb329-34" aria-hidden="true" tabindex="-1"></a>         <span class="at">Fish_size =</span> <span class="fu">case_when</span>(Fish_size <span class="sc">==</span> <span class="st">&quot;S&quot;</span> <span class="sc">~</span> <span class="st">&quot;Small&quot;</span>,</span>
<span id="cb329-35"><a href="WFD-diet-restrict-solutions.html#cb329-35" aria-hidden="true" tabindex="-1"></a>                               Fish_size <span class="sc">==</span> <span class="st">&quot;L&quot;</span> <span class="sc">~</span> <span class="st">&quot;Large&quot;</span>))</span>
<span id="cb329-36"><a href="WFD-diet-restrict-solutions.html#cb329-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb329-37"><a href="WFD-diet-restrict-solutions.html#cb329-37" aria-hidden="true" tabindex="-1"></a>length_weight_condition <span class="ot">&lt;-</span> length_weight_condition <span class="sc">%&gt;%</span></span>
<span id="cb329-38"><a href="WFD-diet-restrict-solutions.html#cb329-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Diet_comp =</span> <span class="fu">case_when</span>(Diet_comp <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;10.2:1&quot;</span>,</span>
<span id="cb329-39"><a href="WFD-diet-restrict-solutions.html#cb329-39" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;4.6:1&quot;</span>,</span>
<span id="cb329-40"><a href="WFD-diet-restrict-solutions.html#cb329-40" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;2.5:1&quot;</span>,</span>
<span id="cb329-41"><a href="WFD-diet-restrict-solutions.html#cb329-41" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">&quot;8.5:1&quot;</span>,</span>
<span id="cb329-42"><a href="WFD-diet-restrict-solutions.html#cb329-42" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">&quot;1.6:1&quot;</span>),</span>
<span id="cb329-43"><a href="WFD-diet-restrict-solutions.html#cb329-43" aria-hidden="true" tabindex="-1"></a>         <span class="at">Fish_size =</span> <span class="fu">case_when</span>(Fish_size <span class="sc">==</span> <span class="st">&quot;S&quot;</span> <span class="sc">~</span> <span class="st">&quot;Small&quot;</span>,</span>
<span id="cb329-44"><a href="WFD-diet-restrict-solutions.html#cb329-44" aria-hidden="true" tabindex="-1"></a>                               Fish_size <span class="sc">==</span> <span class="st">&quot;L&quot;</span> <span class="sc">~</span> <span class="st">&quot;Large&quot;</span>),</span>
<span id="cb329-45"><a href="WFD-diet-restrict-solutions.html#cb329-45" aria-hidden="true" tabindex="-1"></a>         <span class="at">Sex =</span> <span class="fu">case_when</span>(Sex <span class="sc">==</span> <span class="st">&quot;M&quot;</span> <span class="sc">~</span> <span class="st">&quot;Male&quot;</span>,</span>
<span id="cb329-46"><a href="WFD-diet-restrict-solutions.html#cb329-46" aria-hidden="true" tabindex="-1"></a>                         Sex <span class="sc">==</span> <span class="st">&quot;F&quot;</span> <span class="sc">~</span> <span class="st">&quot;Female&quot;</span>))</span>
<span id="cb329-47"><a href="WFD-diet-restrict-solutions.html#cb329-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb329-48"><a href="WFD-diet-restrict-solutions.html#cb329-48" aria-hidden="true" tabindex="-1"></a>mortality <span class="ot">&lt;-</span> mortality <span class="sc">%&gt;%</span></span>
<span id="cb329-49"><a href="WFD-diet-restrict-solutions.html#cb329-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Diet_comp =</span> <span class="fu">case_when</span>(Diet_comp <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;10.2:1&quot;</span>,</span>
<span id="cb329-50"><a href="WFD-diet-restrict-solutions.html#cb329-50" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;4.6:1&quot;</span>,</span>
<span id="cb329-51"><a href="WFD-diet-restrict-solutions.html#cb329-51" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;2.5:1&quot;</span>,</span>
<span id="cb329-52"><a href="WFD-diet-restrict-solutions.html#cb329-52" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">&quot;8.5:1&quot;</span>,</span>
<span id="cb329-53"><a href="WFD-diet-restrict-solutions.html#cb329-53" aria-hidden="true" tabindex="-1"></a>                               Diet_comp <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">&quot;1.6:1&quot;</span>),</span>
<span id="cb329-54"><a href="WFD-diet-restrict-solutions.html#cb329-54" aria-hidden="true" tabindex="-1"></a>         <span class="at">Fish_size =</span> <span class="fu">case_when</span>(Fish_size <span class="sc">==</span> <span class="st">&quot;S&quot;</span> <span class="sc">~</span> <span class="st">&quot;Small&quot;</span>,</span>
<span id="cb329-55"><a href="WFD-diet-restrict-solutions.html#cb329-55" aria-hidden="true" tabindex="-1"></a>                               Fish_size <span class="sc">==</span> <span class="st">&quot;L&quot;</span> <span class="sc">~</span> <span class="st">&quot;Large&quot;</span>),</span>
<span id="cb329-56"><a href="WFD-diet-restrict-solutions.html#cb329-56" aria-hidden="true" tabindex="-1"></a>         <span class="at">Sex =</span> <span class="fu">case_when</span>(Sex <span class="sc">==</span> <span class="st">&quot;M&quot;</span> <span class="sc">~</span> <span class="st">&quot;Male&quot;</span>,</span>
<span id="cb329-57"><a href="WFD-diet-restrict-solutions.html#cb329-57" aria-hidden="true" tabindex="-1"></a>                         Sex <span class="sc">==</span> <span class="st">&quot;F&quot;</span> <span class="sc">~</span> <span class="st">&quot;Female&quot;</span>),</span>
<span id="cb329-58"><a href="WFD-diet-restrict-solutions.html#cb329-58" aria-hidden="true" tabindex="-1"></a>         <span class="at">Status =</span> <span class="fu">case_when</span>(Status <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;alive&quot;</span>,</span>
<span id="cb329-59"><a href="WFD-diet-restrict-solutions.html#cb329-59" aria-hidden="true" tabindex="-1"></a>                            Status <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;dead&quot;</span>))</span>
<span id="cb329-60"><a href="WFD-diet-restrict-solutions.html#cb329-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb329-61"><a href="WFD-diet-restrict-solutions.html#cb329-61" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for the odd duplicate</span></span>
<span id="cb329-62"><a href="WFD-diet-restrict-solutions.html#cb329-62" aria-hidden="true" tabindex="-1"></a>check <span class="ot">&lt;-</span> mortality <span class="sc">%&gt;%</span></span>
<span id="cb329-63"><a href="WFD-diet-restrict-solutions.html#cb329-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Fish_ID) <span class="sc">%&gt;%</span></span>
<span id="cb329-64"><a href="WFD-diet-restrict-solutions.html#cb329-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">check =</span> <span class="fu">length</span>(<span class="fu">unique</span>(Week))<span class="sc">==</span><span class="fu">max</span>(Week))</span>
<span id="cb329-65"><a href="WFD-diet-restrict-solutions.html#cb329-65" aria-hidden="true" tabindex="-1"></a>check <span class="sc">%&gt;%</span></span>
<span id="cb329-66"><a href="WFD-diet-restrict-solutions.html#cb329-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>check)</span></code></pre></div>
<pre><code>## # A tibble: 0 x 2
## # … with 2 variables: Fish_ID &lt;chr&gt;, check &lt;lgl&gt;</code></pre>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="WFD-diet-restrict-solutions.html#cb331-1" aria-hidden="true" tabindex="-1"></a><span class="co"># no rows... excellent</span></span>
<span id="cb331-2"><a href="WFD-diet-restrict-solutions.html#cb331-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-3"><a href="WFD-diet-restrict-solutions.html#cb331-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Time of death</span></span>
<span id="cb331-4"><a href="WFD-diet-restrict-solutions.html#cb331-4" aria-hidden="true" tabindex="-1"></a>temp_mortality2 <span class="ot">&lt;-</span> mortality <span class="sc">%&gt;%</span></span>
<span id="cb331-5"><a href="WFD-diet-restrict-solutions.html#cb331-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Status<span class="sc">==</span><span class="st">&quot;alive&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb331-6"><a href="WFD-diet-restrict-solutions.html#cb331-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Fish_ID, Diet_comp, Prov_level, Sex) <span class="sc">%&gt;%</span></span>
<span id="cb331-7"><a href="WFD-diet-restrict-solutions.html#cb331-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Lifespan=</span><span class="fu">max</span>(Week))</span>
<span id="cb331-8"><a href="WFD-diet-restrict-solutions.html#cb331-8" aria-hidden="true" tabindex="-1"></a>last_obs <span class="ot">&lt;-</span> mortality  <span class="sc">%&gt;%</span></span>
<span id="cb331-9"><a href="WFD-diet-restrict-solutions.html#cb331-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Fish_ID, Diet_comp, Prov_level) <span class="sc">%&gt;%</span></span>
<span id="cb331-10"><a href="WFD-diet-restrict-solutions.html#cb331-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Last_sample=</span><span class="fu">max</span>(Week))</span>
<span id="cb331-11"><a href="WFD-diet-restrict-solutions.html#cb331-11" aria-hidden="true" tabindex="-1"></a>mortality2 <span class="ot">&lt;-</span> <span class="fu">full_join</span>(temp_mortality2, last_obs) <span class="sc">%&gt;%</span></span>
<span id="cb331-12"><a href="WFD-diet-restrict-solutions.html#cb331-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Censored=</span><span class="fu">ifelse</span>(Lifespan<span class="sc">==</span>Last_sample, T, F),</span>
<span id="cb331-13"><a href="WFD-diet-restrict-solutions.html#cb331-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">Lifespan=</span><span class="fu">ifelse</span>(<span class="fu">is.na</span>(Lifespan), <span class="dv">0</span>, Lifespan),</span>
<span id="cb331-14"><a href="WFD-diet-restrict-solutions.html#cb331-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">Censored=</span><span class="fu">ifelse</span>(Lifespan<span class="sc">==</span><span class="dv">0</span>, <span class="cn">FALSE</span>, Censored)) <span class="sc">%&gt;%</span></span>
<span id="cb331-15"><a href="WFD-diet-restrict-solutions.html#cb331-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb331-16"><a href="WFD-diet-restrict-solutions.html#cb331-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Last_sample)</span>
<span id="cb331-17"><a href="WFD-diet-restrict-solutions.html#cb331-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-18"><a href="WFD-diet-restrict-solutions.html#cb331-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-19"><a href="WFD-diet-restrict-solutions.html#cb331-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Change in length</span></span>
<span id="cb331-20"><a href="WFD-diet-restrict-solutions.html#cb331-20" aria-hidden="true" tabindex="-1"></a>change1 <span class="ot">&lt;-</span> length_weight_condition <span class="sc">%&gt;%</span></span>
<span id="cb331-21"><a href="WFD-diet-restrict-solutions.html#cb331-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Fish_ID, Diet_comp, Prov_level) <span class="sc">%&gt;%</span></span>
<span id="cb331-22"><a href="WFD-diet-restrict-solutions.html#cb331-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">do</span>(<span class="at">m1 =</span> <span class="fu">tidy</span>(<span class="fu">lm</span>(Length <span class="sc">~</span> Batch, <span class="at">data=</span>.))) <span class="sc">%&gt;%</span></span>
<span id="cb331-23"><a href="WFD-diet-restrict-solutions.html#cb331-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb331-24"><a href="WFD-diet-restrict-solutions.html#cb331-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term<span class="sc">==</span><span class="st">&quot;Batch&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb331-25"><a href="WFD-diet-restrict-solutions.html#cb331-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Fish_ID, Diet_comp, Prov_level, <span class="at">Length_change=</span>estimate)</span>
<span id="cb331-26"><a href="WFD-diet-restrict-solutions.html#cb331-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-27"><a href="WFD-diet-restrict-solutions.html#cb331-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-28"><a href="WFD-diet-restrict-solutions.html#cb331-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Change in condition</span></span>
<span id="cb331-29"><a href="WFD-diet-restrict-solutions.html#cb331-29" aria-hidden="true" tabindex="-1"></a>change2 <span class="ot">&lt;-</span> length_weight_condition <span class="sc">%&gt;%</span></span>
<span id="cb331-30"><a href="WFD-diet-restrict-solutions.html#cb331-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Fish_ID, Diet_comp, Prov_level) <span class="sc">%&gt;%</span></span>
<span id="cb331-31"><a href="WFD-diet-restrict-solutions.html#cb331-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">do</span>(<span class="at">m1 =</span> <span class="fu">tidy</span>(<span class="fu">lm</span>(Cond_index <span class="sc">~</span> Batch, <span class="at">data=</span>.))) <span class="sc">%&gt;%</span></span>
<span id="cb331-32"><a href="WFD-diet-restrict-solutions.html#cb331-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>() <span class="sc">%&gt;%</span></span>
<span id="cb331-33"><a href="WFD-diet-restrict-solutions.html#cb331-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term<span class="sc">==</span><span class="st">&quot;Batch&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb331-34"><a href="WFD-diet-restrict-solutions.html#cb331-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Fish_ID, Diet_comp, Prov_level, <span class="at">CI_change=</span>estimate)</span>
<span id="cb331-35"><a href="WFD-diet-restrict-solutions.html#cb331-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-36"><a href="WFD-diet-restrict-solutions.html#cb331-36" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> <span class="fu">full_join</span>(courtship, eggs) <span class="sc">%&gt;%</span></span>
<span id="cb331-37"><a href="WFD-diet-restrict-solutions.html#cb331-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(mortality2) <span class="sc">%&gt;%</span></span>
<span id="cb331-38"><a href="WFD-diet-restrict-solutions.html#cb331-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(change1) <span class="sc">%&gt;%</span></span>
<span id="cb331-39"><a href="WFD-diet-restrict-solutions.html#cb331-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(change2)</span>
<span id="cb331-40"><a href="WFD-diet-restrict-solutions.html#cb331-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-41"><a href="WFD-diet-restrict-solutions.html#cb331-41" aria-hidden="true" tabindex="-1"></a>diet_comp <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/diet_comp_treatments.csv&quot;</span>)</span>
<span id="cb331-42"><a href="WFD-diet-restrict-solutions.html#cb331-42" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> <span class="fu">full_join</span>(dd, diet_comp)</span>
<span id="cb331-43"><a href="WFD-diet-restrict-solutions.html#cb331-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-44"><a href="WFD-diet-restrict-solutions.html#cb331-44" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> <span class="fu">mutate</span>(dd,</span>
<span id="cb331-45"><a href="WFD-diet-restrict-solutions.html#cb331-45" aria-hidden="true" tabindex="-1"></a>             <span class="at">Diet_comp =</span> <span class="fu">fct_relevel</span>(Diet_comp,</span>
<span id="cb331-46"><a href="WFD-diet-restrict-solutions.html#cb331-46" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">&quot;1.6:1&quot;</span>,</span>
<span id="cb331-47"><a href="WFD-diet-restrict-solutions.html#cb331-47" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">&quot;2.5:1&quot;</span>,</span>
<span id="cb331-48"><a href="WFD-diet-restrict-solutions.html#cb331-48" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">&quot;4.6:1&quot;</span>,</span>
<span id="cb331-49"><a href="WFD-diet-restrict-solutions.html#cb331-49" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">&quot;8.5:1&quot;</span>,</span>
<span id="cb331-50"><a href="WFD-diet-restrict-solutions.html#cb331-50" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">&quot;10.2:1&quot;</span>),</span>
<span id="cb331-51"><a href="WFD-diet-restrict-solutions.html#cb331-51" aria-hidden="true" tabindex="-1"></a>             <span class="at">Prov_level =</span> <span class="fu">fct_relevel</span>(<span class="fu">as.character</span>(Prov_level),</span>
<span id="cb331-52"><a href="WFD-diet-restrict-solutions.html#cb331-52" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">&quot;50&quot;</span>,</span>
<span id="cb331-53"><a href="WFD-diet-restrict-solutions.html#cb331-53" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">&quot;75&quot;</span>,</span>
<span id="cb331-54"><a href="WFD-diet-restrict-solutions.html#cb331-54" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">&quot;100&quot;</span>))</span>
<span id="cb331-55"><a href="WFD-diet-restrict-solutions.html#cb331-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-56"><a href="WFD-diet-restrict-solutions.html#cb331-56" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for fish doing what they shouldn&#39;t be..</span></span>
<span id="cb331-57"><a href="WFD-diet-restrict-solutions.html#cb331-57" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span></span>
<span id="cb331-58"><a href="WFD-diet-restrict-solutions.html#cb331-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sex <span class="sc">==</span> <span class="st">&quot;Female&quot;</span>, <span class="sc">!</span><span class="fu">is.na</span>(Total_court))</span></code></pre></div>
<pre><code>## # A tibble: 0 x 16
## # … with 16 variables: Fish_ID &lt;chr&gt;, Family &lt;chr&gt;,
## #   Shelf_stack &lt;chr&gt;, Diet_comp &lt;fct&gt;,
## #   Prov_level &lt;fct&gt;, Fish_size &lt;chr&gt;, Trial &lt;dbl&gt;,
## #   Total_court &lt;dbl&gt;, Total_egg &lt;dbl&gt;, Sex &lt;chr&gt;,
## #   Lifespan &lt;dbl&gt;, Censored &lt;lgl&gt;,
## #   Length_change &lt;dbl&gt;, CI_change &lt;dbl&gt;,
## #   Protein &lt;dbl&gt;, Lipid &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="WFD-diet-restrict-solutions.html#cb333-1" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span></span>
<span id="cb333-2"><a href="WFD-diet-restrict-solutions.html#cb333-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sex <span class="sc">==</span> <span class="st">&quot;Male&quot;</span>, <span class="sc">!</span><span class="fu">is.na</span>(Total_egg))</span></code></pre></div>
<pre><code>## # A tibble: 0 x 16
## # … with 16 variables: Fish_ID &lt;chr&gt;, Family &lt;chr&gt;,
## #   Shelf_stack &lt;chr&gt;, Diet_comp &lt;fct&gt;,
## #   Prov_level &lt;fct&gt;, Fish_size &lt;chr&gt;, Trial &lt;dbl&gt;,
## #   Total_court &lt;dbl&gt;, Total_egg &lt;dbl&gt;, Sex &lt;chr&gt;,
## #   Lifespan &lt;dbl&gt;, Censored &lt;lgl&gt;,
## #   Length_change &lt;dbl&gt;, CI_change &lt;dbl&gt;,
## #   Protein &lt;dbl&gt;, Lipid &lt;dbl&gt;</code></pre>
<p>Excellent… there are no odd duplicates, no male fish laying eggs, and no female fish engaging in courtship.</p>
<p>Q28. Write a few sentences about the distribution of each of the five response variables.</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="WFD-diet-restrict-solutions.html#cb335-1" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span></span>
<span id="cb335-2"><a href="WFD-diet-restrict-solutions.html#cb335-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb335-3"><a href="WFD-diet-restrict-solutions.html#cb335-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x=</span>Total_court))</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value
## with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 375 rows containing non-finite values
## (stat_bin).</code></pre>
<p><img src="insights_website_files/figure-html/unnamed-chunk-188-1.svg" width="336" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="WFD-diet-restrict-solutions.html#cb338-1" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span></span>
<span id="cb338-2"><a href="WFD-diet-restrict-solutions.html#cb338-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb338-3"><a href="WFD-diet-restrict-solutions.html#cb338-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x=</span>Total_egg))</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value
## with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 334 rows containing non-finite values
## (stat_bin).</code></pre>
<p><img src="insights_website_files/figure-html/unnamed-chunk-188-2.svg" width="336" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="WFD-diet-restrict-solutions.html#cb341-1" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span></span>
<span id="cb341-2"><a href="WFD-diet-restrict-solutions.html#cb341-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb341-3"><a href="WFD-diet-restrict-solutions.html#cb341-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x=</span>Lifespan))</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value
## with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 6 rows containing non-finite values
## (stat_bin).</code></pre>
<p><img src="insights_website_files/figure-html/unnamed-chunk-188-3.svg" width="336" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="WFD-diet-restrict-solutions.html#cb344-1" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span></span>
<span id="cb344-2"><a href="WFD-diet-restrict-solutions.html#cb344-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb344-3"><a href="WFD-diet-restrict-solutions.html#cb344-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x=</span>Length_change))</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value
## with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 32 rows containing non-finite values
## (stat_bin).</code></pre>
<p><img src="insights_website_files/figure-html/unnamed-chunk-188-4.svg" width="336" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="WFD-diet-restrict-solutions.html#cb347-1" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span></span>
<span id="cb347-2"><a href="WFD-diet-restrict-solutions.html#cb347-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb347-3"><a href="WFD-diet-restrict-solutions.html#cb347-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x=</span>CI_change))</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value
## with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 32 rows containing non-finite values
## (stat_bin).</code></pre>
<p><img src="insights_website_files/figure-html/unnamed-chunk-188-5.svg" width="336" style="display: block; margin: auto;" /></p>
</div>
<div id="inspect-relationships-1" class="section level2" number="9.5">
<h2><span class="header-section-number">9.5</span> Inspect relationships</h2>
<p><strong>Q29. Confirm in a graph the stated result: “Male mortality risk was lowest on intermediate lipid intakes.”</strong></p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="WFD-diet-restrict-solutions.html#cb350-1" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> dd <span class="sc">%&gt;%</span></span>
<span id="cb350-2"><a href="WFD-diet-restrict-solutions.html#cb350-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">period=</span><span class="fu">cut</span>(Lifespan, <span class="at">breaks=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">20</span>, <span class="dv">60</span>, <span class="dv">106</span>, <span class="dv">120</span>)))</span>
<span id="cb350-3"><a href="WFD-diet-restrict-solutions.html#cb350-3" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span></span>
<span id="cb350-4"><a href="WFD-diet-restrict-solutions.html#cb350-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sex<span class="sc">==</span><span class="st">&quot;Male&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb350-5"><a href="WFD-diet-restrict-solutions.html#cb350-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb350-6"><a href="WFD-diet-restrict-solutions.html#cb350-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span>Lipid, <span class="at">y=</span>Lifespan, <span class="at">col=</span>Prov_level),</span>
<span id="cb350-7"><a href="WFD-diet-restrict-solutions.html#cb350-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">position =</span> <span class="fu">position_jitterdodge</span>(<span class="at">jitter.width=</span><span class="fl">0.05</span>)) <span class="sc">+</span></span>
<span id="cb350-8"><a href="WFD-diet-restrict-solutions.html#cb350-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>period, <span class="at">nrow=</span><span class="dv">3</span>)</span></code></pre></div>
<p><img src="insights_website_files/figure-html/unnamed-chunk-189-1.svg" width="336" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="WFD-diet-restrict-solutions.html#cb351-1" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span></span>
<span id="cb351-2"><a href="WFD-diet-restrict-solutions.html#cb351-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sex<span class="sc">==</span><span class="st">&quot;Male&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb351-3"><a href="WFD-diet-restrict-solutions.html#cb351-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb351-4"><a href="WFD-diet-restrict-solutions.html#cb351-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span>Lipid, <span class="at">y=</span>Lifespan, <span class="at">col=</span>Prov_level),</span>
<span id="cb351-5"><a href="WFD-diet-restrict-solutions.html#cb351-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">position =</span> <span class="fu">position_jitterdodge</span>(<span class="at">jitter.width=</span><span class="fl">0.05</span>)) <span class="sc">+</span></span>
<span id="cb351-6"><a href="WFD-diet-restrict-solutions.html#cb351-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>period, <span class="at">nrow=</span><span class="dv">3</span>)</span></code></pre></div>
<p><img src="insights_website_files/figure-html/unnamed-chunk-190-1.svg" width="336" style="display: block; margin: auto;" /></p>
<p>Q30. Confirm in a graph the stated result: “Female risk was generally reduced by low protein intakes.”</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="WFD-diet-restrict-solutions.html#cb352-1" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span> </span>
<span id="cb352-2"><a href="WFD-diet-restrict-solutions.html#cb352-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sex<span class="sc">==</span><span class="st">&quot;Female&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb352-3"><a href="WFD-diet-restrict-solutions.html#cb352-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb352-4"><a href="WFD-diet-restrict-solutions.html#cb352-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span>Protein, <span class="at">y=</span>Lifespan, <span class="at">col=</span>Prov_level),</span>
<span id="cb352-5"><a href="WFD-diet-restrict-solutions.html#cb352-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">position =</span> <span class="fu">position_jitterdodge</span>(<span class="at">jitter.width=</span><span class="fl">0.05</span>)) <span class="sc">+</span></span>
<span id="cb352-6"><a href="WFD-diet-restrict-solutions.html#cb352-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>period, <span class="at">nrow=</span><span class="dv">3</span>)</span></code></pre></div>
<p><img src="insights_website_files/figure-html/unnamed-chunk-191-1.svg" width="336" style="display: block; margin: auto;" /></p>
<p>Q31. Confirm in a graph the stated result: “The effect of macronutrient intake on reproduction was similar between the sexes, with high protein intakes maximizing reproduction.”</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="WFD-diet-restrict-solutions.html#cb353-1" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span></span>
<span id="cb353-2"><a href="WFD-diet-restrict-solutions.html#cb353-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sex<span class="sc">==</span><span class="st">&quot;Male&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb353-3"><a href="WFD-diet-restrict-solutions.html#cb353-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb353-4"><a href="WFD-diet-restrict-solutions.html#cb353-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span>Protein, <span class="at">y=</span>Total_court, <span class="at">col=</span>Prov_level),</span>
<span id="cb353-5"><a href="WFD-diet-restrict-solutions.html#cb353-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">position =</span> <span class="fu">position_jitterdodge</span>(<span class="at">jitter.width=</span><span class="fl">0.05</span>))</span></code></pre></div>
<pre><code>## Warning: Removed 65 rows containing missing values
## (geom_point).</code></pre>
<p><img src="insights_website_files/figure-html/unnamed-chunk-192-1.svg" width="336" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="WFD-diet-restrict-solutions.html#cb355-1" aria-hidden="true" tabindex="-1"></a>dd <span class="sc">%&gt;%</span></span>
<span id="cb355-2"><a href="WFD-diet-restrict-solutions.html#cb355-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sex<span class="sc">==</span><span class="st">&quot;Female&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb355-3"><a href="WFD-diet-restrict-solutions.html#cb355-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb355-4"><a href="WFD-diet-restrict-solutions.html#cb355-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span>Protein, <span class="at">y=</span>Total_egg, <span class="at">col=</span>Prov_level), <span class="at">position =</span> <span class="fu">position_jitterdodge</span>(<span class="at">jitter.width=</span><span class="fl">0.2</span>, <span class="at">dodge.width =</span> <span class="dv">5</span>))</span></code></pre></div>
<pre><code>## Warning: position_jitterdodge requires non-overlapping
## x intervals</code></pre>
<pre><code>## Warning: Removed 30 rows containing missing values
## (geom_point).</code></pre>
<p><img src="insights_website_files/figure-html/unnamed-chunk-193-1.svg" width="336" style="display: block; margin: auto;" /></p>
</div>
<div id="below-are-lists-of-variables-in-each-of-the-four-used-datasets." class="section level2" number="9.6">
<h2><span class="header-section-number">9.6</span> Below are lists of variables in each of the four used datasets.</h2>
</div>
<div id="moatt-et-al-data-s1-mortality-data" class="section level2" number="9.7">
<h2><span class="header-section-number">9.7</span> Moatt et al Data S1 – Mortality Data</h2>
<ul>
<li>FID – Unique ID for each individual.</li>
<li>Diet – Diet Treatment (Diet P:L: 1 = 10.2:1, 2 = 4.6:1, 3 = 2.5:1, 4 = 8.5:1, 5 = 1.6:1).</li>
<li>Sex – Sex of individual (M = male, F = female).</li>
<li>Size – Size classification of individual (L = large, S = Small).</li>
<li>Level – Provisioning level, values represent percentages of monthly ad libitum monitoring.</li>
<li>Total_eaten – Total pellet eaten in g from the start of the experiment.</li>
<li>Eaten_wk – Amount of pellet consumed that week (gweek-1).</li>
<li>P_tot - Total protein eaten in g from the start of the experiment.</li>
<li>P2_total – P_tot2 squared (i.e. the total protein eaten squared).</li>
<li>P_wk – Amount of protein consumed that week (gweek-1).</li>
<li>P2_wk – P_wk2 squared (i.e. the weekly protein intake squared).</li>
<li>L_tot - Total lipid eaten in g from the start of the experiment.</li>
<li>L2_total – L_tot2 squared (i.e. the total lipid eaten squared).</li>
<li>L_wk – Amount of lipid consumed that week (gweek-1).</li>
<li>L2_wk – L_wk2 squared (i.e. the weekly lipid intake squared).</li>
<li>Weight – Weight of fish from last weighing (g).</li>
<li>Week_F – Experimental week.</li>
<li>Status – Survival status (0= alive, 1 = Dead).</li>
<li>T_group – Time period of the experiment (see Fig. S1).</li>
<li>Initial_weight – Initial weight of individual at the start of the experiment.</li>
<li>ZP – P_wk z transformed (mean of 0 and standard deviation of 1).</li>
<li>ZP2 – P2_wk z transformed (mean of 0 and standard deviation of 1).</li>
<li>ZL – L_wk z transformed (mean of 0 and standard deviation of 1).</li>
<li>ZL2 – L2_wk z transformed (mean of 0 and standard deviation of 1).</li>
</ul>
</div>
<div id="moatt-et-al-data-s5-courtship-data" class="section level2" number="9.8">
<h2><span class="header-section-number">9.8</span> Moatt et al Data S5 – Courtship Data</h2>
<ul>
<li>FID – Unique ID for each individual.</li>
<li>Family – Unique code for family group (i.e. clutch of origin). Each clutch produced from a unique sire and dam.</li>
<li>Shelf_stack – Unique code for the stack and shelf of fish home tank.</li>
<li>Diet – Diet Treatment (Diet P:L: 1 = 10.2:1, 2 = 4.6:1, 3 = 2.5:1, 4 = 8.5:1, 5 = 1.6:1).</li>
<li>Level – Provisioning level, values represent percentages of monthly ad libitum monitoring.</li>
<li>Size – Size classification of individual (L = large, S = Small).</li>
<li>Trial – Number of trials that individual experienced.</li>
<li>Days_breeding – Length of breeding season for that individual.</li>
<li>P_day – Average protein intake per day during the breeding season (gday-1).</li>
<li>P2_day – P_day2 squared (i.e. daily protein intake squared).</li>
<li>L_day - Average lipid intake per day during the breeding season (gday-1).</li>
<li>L2_day – L_day2 squared (i.e. daily lipid intake squared).</li>
<li>Mean_react – Mean reaction time across all trials for that individual.</li>
<li>Total_ZZ – Total number of zigzags across all trials.</li>
<li>Total_leads – Total number of leads across all trials.</li>
<li>Total_court – Total time courting across all trials.</li>
</ul>
</div>
<div id="moatt-et-al-data-s6-eggs-data" class="section level2" number="9.9">
<h2><span class="header-section-number">9.9</span> Moatt et al Data S6 – Eggs Data</h2>
<ul>
<li>FID – Unique ID for each individual.</li>
<li>Family – Unique code for family group (i.e. clutch of origin). Each clutch produced from a unique sire and dam.</li>
<li>Shelf_stack – Unique code for the stack and shelf of fish home tank.</li>
<li>Diet – Diet Treatment (Diet P:L: 1 = 10.2:1, 2 = 4.6:1, 3 = 2.5:1, 4 = 8.5:1, 5 = 1.6:1).</li>
<li>Level – Provisioning level, values represent percentages of monthly ad libitum monitoring.</li>
<li>Size – Size classification of individual (L = large, S = Small).</li>
<li>P_day – Average protein intake per day during the breeding season (gday-1).</li>
<li>P2_day – P_day2 squared (i.e. daily protein intake squared).</li>
<li>L_day - Average lipid intake per day during the breeding season (gday-1).</li>
<li>L2_day – L_day2 squared (i.e. daily lipid intake squared).</li>
<li>Days_breeding – Length of breeding season for that individual.</li>
<li>Number_clutches – Number of clutches produced by that individual.</li>
<li>Mean_number – Mean number of eggs per clutch.</li>
<li>Total_egg – Total number of eggs produced.</li>
</ul>
</div>
<div id="moatt-et-al-data-s15-length-weight-and-condition-index-data" class="section level2" number="9.10">
<h2><span class="header-section-number">9.10</span> Moatt et al Data S15 – Length, Weight and Condition Index Data</h2>
<ul>
<li>FID – Unique ID for each individual.</li>
<li>StackShelf – Unique code for the stack and shelf of fish home tank.</li>
<li>Sex – Sex of individual (M = male, F = female).</li>
<li>Diet – Diet Treatment (Diet P:L: 1 = 10.2:1, 2 = 4.6:1, 3 = 2.5:1, 4 = 8.5:1, 5 = 1.6:1).</li>
<li>Level – Provisioning level, values represent percentages of monthly ad libitum monitoring.</li>
<li>Size – Size classification of individual (L = large, S = Small).</li>
<li>Batch – Weighing batch. NB Batch 1 is prior to diet treatments therefore has no corresponding values for protein and lipid intake.</li>
<li>P_day – Average protein intake per day during the breeding season (gday-1).</li>
<li>P2_day – P_day2 squared (i.e. daily protein intake squared).</li>
<li>L_day - Average lipid intake per day during the breeding season (gday-1).</li>
<li>L2_day – L_day2 squared (i.e. daily lipid intake squared).</li>
<li>ZP – Daily protein intake z transformed (mean of 0 and standard deviation of 1), calculated for each sex independently.</li>
<li>ZP2 – Daily protein intake squared, z transformed (mean of 0 and standard deviation of 1), calculated for each sex independently.</li>
<li>ZL – Daily lipid intake z transformed (mean of 0 and standard deviation of 1), calculated for each sex independently.</li>
<li>ZL2 – Daily lipid intake squared, z transformed (mean of 0 and standard deviation of 1), calculated for each sex independently.</li>
<li>Ln – Length of individual in mm.</li>
<li>Wt – Weight of individual in g.</li>
<li>CI – Condition Index for each individual.</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="WFD-diet-restrict.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="modelwf-scripts.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/opetchey/insights_website/blob/development/08-wfdemo-fishdiet-restr-solution.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": {},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
